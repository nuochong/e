<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>了解wasm的前世今身 | 小窝</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#fff">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1575342_ewknxj54tz8.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.0/baguetteBox.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/css/swiper.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mapbox-gl@1.7.0/dist/mapbox-gl.css" type="text/css">
    <link rel="stylesheet" href="https://www.zhangxinxu.com/study/201903/css-idea/cssgram.min.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js"></script>
    <script src="https://static.runoob.com/assets/qrcode/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/shakee93/vue-toasted@v1.1.27/dist/vue-toasted.min.js"></script>
    <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
    <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/locale/zh-cn.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mapbox-gl@1.7.0/dist/mapbox-gl.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mapbox/mapbox-gl-language@0.10.1/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/console-badge@1.3.0/dist/console-badge.umd.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exifreader@3.12.2/dist/exif-reader.min.js"></script>
    <link rel="alternate" type="application/rss+xml" href="https://luzhaoyang.com/rss.xml" title=" RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://luzhaoyang.com/feed.atom" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://luzhaoyang.com/feed.json" title=" JSON Feed">
    <meta name="description" content="博客">
    <meta property="article:published_time" content="2019-11-03T14:10:00.000Z">
    <meta property="article:modified_time" content="2019-11-03T14:10:00.000Z">
    <meta property="og:title" content="了解wasm的前世今身">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://luzhaoyang.com/zh/posts/liao-jiewasm-de-qian-shi-jin-shen.html">
    <meta property="og:image" content="https://luzhaoyang.com/social/image-social-share-zh.png">
    <meta name="twitter:title" content="了解wasm的前世今身">
    <meta name="twitter:url" content="https://luzhaoyang.com/zh/posts/liao-jiewasm-de-qian-shi-jin-shen.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://luzhaoyang.com/social/image-social-share-zh.png">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="前端开发">
    <meta property="article:tag" content="前端开发">
    <meta name="theme-color" content="#fff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/favicon/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/styles.8f734401.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/app.8f734401.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/30.styles.9472f35d.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/30.9472f35d.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/5.styles.48be5662.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/5.48be5662.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/29.styles.4409a890.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/29.4409a890.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/28.styles.9960f505.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/28.9960f505.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/32.styles.182b4088.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/32.182b4088.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/0.styles.7a11da10.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/0.7a11da10.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/4.aa156cd3.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/3.styles.1e2abf1f.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/3.1e2abf1f.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/9.styles.b8bdd1b9.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/9.b8bdd1b9.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/126.7d27f717.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/6.styles.ff77072a.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/6.ff77072a.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/7.styles.c71f8b05.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/7.c71f8b05.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/1.styles.fa8b99fc.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/1.fa8b99fc.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/15.styles.cdf4868f.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/15.cdf4868f.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/31.styles.5f27bf88.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/31.5f27bf88.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/2.styles.3ff266e2.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/2.3ff266e2.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/34.styles.abb626ad.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/34.abb626ad.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/14.styles.a1a373d4.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/16.styles.2843aaac.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/17.styles.dd16d096.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/18.styles.a59c8b6e.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/19.styles.ce8746d5.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/20.styles.2bd8e560.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/21.styles.1f468920.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/22.styles.c0c128a5.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/23.styles.d85fd85b.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/24.styles.6b77139c.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/25.styles.fee46e2d.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/26.styles.c5027d9a.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/27.styles.3a5349a7.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/33.styles.91bf4197.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/8.styles.3b1432c5.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/10.8f8cac2f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/100.85eb81d7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/101.0431c5ca.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/102.ce5a5571.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/103.54da8543.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/104.9ada1da5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/105.18c73621.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/106.5d6c6364.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/107.72a798ef.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/108.55b0d5e1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/109.f12a1827.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/110.2ee8ff39.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/111.774e038d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/112.57cadf4b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/113.bf6aa2e2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/114.1371f3c7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/115.2af777a6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/116.6e68f5f5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/117.5b59263d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/118.935865b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/119.6b33f1de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/120.c68a095c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/121.558a865b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/122.4659fa96.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/123.0d73a6da.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/124.36e4cef8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/125.8a7ba861.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/127.2cf8fa23.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/128.b687173b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/129.5d4374f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/13.a9ba0651.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/130.f721daf6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/131.cee97807.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/132.368bcf61.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/133.1297f49d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/134.9527e176.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/135.1f36dd13.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/136.1dd117d7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/137.6d98c4bb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/138.b0d3dc1f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/139.735156a1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/14.a1a373d4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/140.35c5e62d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/141.936ecef9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/142.273b2974.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/143.0862b356.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/144.89305e00.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/145.636386ce.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/146.eb2af5a1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/147.9ef524a0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/148.8e2ba3bb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/149.187775e2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/150.44cc7b30.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/151.2267b92f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/152.3bedf32a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/153.fb72960f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/154.f19aaf31.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/155.327cf1e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/156.13774a34.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/157.c7e9880c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/158.33165f1b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/159.e978f45b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/16.2843aaac.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/160.b5c9c243.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/161.58b1755d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/162.2313b08e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/163.dbc0ab73.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/164.c54ebcbe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/165.4c15c4ad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/166.35ccb862.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/167.9c354977.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/168.fa287d1e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/169.2fd3dc9c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/17.dd16d096.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/170.38f38a73.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/171.0c60bba7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/172.d0b5cb7c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/173.e7da5602.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/174.758dc476.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/175.06594a4d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/176.c0179166.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/177.c1bfa79a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/178.654f0fc4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/179.3f4a31de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/18.a59c8b6e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/180.e18a681d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/181.373233ba.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/182.71ca7897.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/183.61b33aab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/19.ce8746d5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/20.2bd8e560.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/21.1f468920.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/22.c0c128a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/23.d85fd85b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/24.6b77139c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/25.fee46e2d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/26.c5027d9a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/27.3a5349a7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/33.91bf4197.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/35.5cb1c4a2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/36.a08159ee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/37.409c5a7e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/38.73cf7cfc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/39.11613ba1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/40.95814551.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/41.11127c6f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/42.fc74ca1b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/43.45d08fe8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/44.966a8dba.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/45.e93ab9b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/46.fe24a416.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/47.b10ff929.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/48.1146b63b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/49.96f475dc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/50.e13eb18a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/51.99957013.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/52.dc4aa967.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/53.685116fa.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/54.bd78a5a2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/55.4c1d975f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/56.bc4e50c8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/57.6a5fd5eb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/58.137b39a6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/59.ae5ec906.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/60.dca21123.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/61.faaf0057.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/62.da2e1e2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/63.c68e8cf9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/64.eda9987d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/65.95ec8da0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/66.6e3bdae8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/67.a4418924.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/68.8b29b7e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/69.07fcb338.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/70.768cbce7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/71.fcca7e5b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/72.e18d89d4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/73.b9f6dfc0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/74.23ee0043.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/75.b8157f68.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/76.a92102c2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/77.f41c5f22.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/78.1d2bd9e2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/79.b0021861.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/8.3b1432c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/80.ba04a2ce.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/81.747057d8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/82.83520929.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/83.40b90993.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/84.2c11ca84.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/85.bc281995.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/86.64c3ed9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/87.55042328.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/88.2d59db47.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/89.ea322fe1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/90.dd699bb0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/91.872b5a5c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/92.a9837bbe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/93.b52bc777.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/94.1267d499.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/95.d1792271.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/96.857f9d33.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/97.93a97124.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/98.27af8c1d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/99.91d1035c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/vendors~flowchart.20614f01.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/styles.8f734401.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/30.styles.9472f35d.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/5.styles.48be5662.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/29.styles.4409a890.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/28.styles.9960f505.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/32.styles.182b4088.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/0.styles.7a11da10.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/3.styles.1e2abf1f.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/9.styles.b8bdd1b9.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/6.styles.ff77072a.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/7.styles.c71f8b05.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/1.styles.fa8b99fc.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/15.styles.cdf4868f.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/31.styles.5f27bf88.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/2.styles.3ff266e2.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e/assets/css/34.styles.abb626ad.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div itemscope="itemscope" itemtype="https://schema.org/WebPage" class="layout-main"><meta itemprop="name" content=""> <meta itemprop="alternateName" content=""> <meta itemprop="url" content="https://luzhaoyang.com"> <nav aria-label="Navigation" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement" class="container nav-mobile not-black" style="display:none;"><span itemprop="headline" class="nav-mobile__title not-black">导航</span> <ul class="nav-mobile__list not-black"><li class="nav-mobile__item not-black"><a href="/zh/categories/" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">文章分类</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/gallery/" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">摄影相册</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/comments/" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">我的留言</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/travel/" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">旅行简记</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/about/" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">关于我们</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/contact/" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">联系我们</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/categories/backend.html" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">后端开发</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/categories/frontend.html" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">前端开发</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/categories/other.html" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">其他记录</span></a></li><li class="nav-mobile__item not-black"><a href="/zh/categories/tour.html" itemprop="url" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">旅行生活</span></a></li></ul></nav> <div class="container-fluid wrapper-body__nm"><header itemscope="itemscope" itemtype="https://schema.org/Organization" class="header"><!----> <div class="row header-top"><div class="column xs-33 sm-20"><div class="hamburguer header-top__hamburguer"><div class="hamburguer__wrapper"><span class="hamburguer__line"></span> <span class="hamburguer__line"></span> <span class="hamburguer__line"></span></div></div> <div class="languages header-top__languages"><div class="languages__box"><span class="languages__title meta-text">ZH</span> <span class="languages__icon"></span></div> <ul class="languages__list"><li class="languages__item"><a href="/" class="languages__link router-link-active">
        English
      </a></li><li class="languages__item"><a href="/zh/posts/liao-jiewasm-de-qian-shi-jin-shen.html" aria-current="page" class="languages__link router-link-exact-active router-link-active">
        Chinese
      </a></li></ul></div></div> <div class="column xs-33 sm-60"><div class="header__logo"><a href="/zh/" itemprop="url" class="header-top-logo__link router-link-active"><img itemprop="logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAyCAMAAAD7sXLbAAABDlBMVEUAAAA0SV00SFw0SF40SV40SF40SF0wQGA1SF2u6eau1dQ0SF01RVq+0tbfcZSuxsqwx8qtwcYzSF6y5d4wSGDpdJis3dmwztE1SV40SF2ntMCz4980R16tzs/TbpGov8Wxu8PDa4qtwcQ0SV3GaYqnu8Go0tKxv8avZII1SF2+ztS6z9XzeZ41SV6p7ubwdprki6ep6+Sx392r5+Ku5OBafok9Vmk5SV/EwcnNscDbmbF5qq/ohqTmc5eKXHh0WHJoVG670NOT0M2Gvr5ok5vWb5LLbY7AaYq1Z4erZIRGY3NuVnBDTGKg49y219eV0s+PyceMxsXJt8JwnaPUh6Lse51iiJKhYoBNbHtcUWoRJ6B1AAAALXRSTlMAwECA7+C/EJ8N828wH/3f1KBfNSD+9PPPsEwb8O7e27iUk4+BgH5sZmBTMBV50rNAAAABnUlEQVRIx42U51rCMBSGYymljAICMsS9V1paCihDEBFUcO/7vxEreTBtZt+ffd4m3zknCZiT06JQrSggHKkyRGhKKF1Fdtg/otCPXpDoEUgQiQl9FZKoSYGuQAZRfhnHkIlWkMUXlyH3oZpj+UuQj5YS+zR6TOLTvaV8CWVF4MtDyXXcKbmPOyXz6fFJ/O9R4544UwK/eW16PHQaTfxtV+B7OsJ+fvvfRuf6DdPP02IbhfJnk974awCHJoH9MvJ+qZB+68b6491kMex8xgn/0ppzYXLIE34a+U5If4D0msmDyHMniVMM1tvqIf+R5x8E/SnSuzw9QcxLEqdYRT6OI+pOfZl8baei7iQM6j7eIv+VszjpzyyES+vrBsA+cRbalO3s0+8DPgtXpL4ZByy/z67WPQQB9IU/Qf55UM/GOe/zD2u2iVXuez6ml3d3AE2STo+jMFDwPcTNwVEoCv7Rtql50kTxqD4cZNvZKuCSRNcQF2tnToGA2Fp/xZ8mYwAxRxaiVvfs0gmQsjdfv+t6SfIgDGfbG+maU9oy5Oov1sAUptGGixIAAAAASUVORK5CYII=" srcset="/logo/ktquez-play-logo.png 1x, /logo/ktquez-play-logo@2x.png 2x" alt="小窝"></a></div> <meta itemprop="name" content=""> </div> <div class="column xs-33 sm-20"><div class="search header-top__search"><!----> <span class="icon search__icon icon-search"></span></div> <div class="switch-bw header-top__toggle"><span class="switch-bw__text">
    开启夜间模式
  </span> <label for="switch-bw" class="switch-bw__label"><input type="checkbox" id="switch-bw" name="switch-bw" aria-labelledby="switch-bw-text" class="switch-bw__input"> <span class="switch-bw__ball"></span> <span id="switch-bw-text" hidden="hidden">switch to black or white</span></label></div></div></div></header> <main id="main" itemscope="itemscope" itemtype="https://schema.org/Blog" class="main-page"><div><a href="#main" class="vue-skip-to">跳到主要内容</a> <div><div class="page page__full row justify-right"><article itemscope="itemscope" itemprop="blogPost" itemtype="https://schema.org/BlogPosting" class="column xs-100 page__full__box box-default"><meta itemprop="mainEntityOfPage" content="/zh/posts/liao-jiewasm-de-qian-shi-jin-shen.html"> <header class="page-header page__full-header"><button type="button" class="ui-button reset-button back-button"><span class="icon back-button__icon icon--arrow icon-arrow"></span> <span class="back-button__text">返回</span></button> <div class="page-header__meta"><time datetime="Sun Nov 03 2019 22:10:00 GMT+0800 (GMT+08:00)" itemprop="datePublished" class="text">
            </time> <meta itemprop="dateModified" content="currentPost.updated_at"> <!----></div> <h1 itemprop="name headline" class="page-header__title">了解wasm的前世今身</h1> <div class="page-header-cat"><nav class="page-header-cat__nav"><ul class="page-header-cat__list"><li class="page-header-cat__item"><a href="/zh/categories/frontend.html" itemprop="keywords" class="page-header-cat__link meta-text">
                  前端开发
                </a></li></ul></nav></div> <div itemprop="author" itemscope="itemscope" itemtype="https://schema.org/Person" class="page-header__author"><strong>作者: </strong> <a href="/zh/authors/nuochong.html" rel="author" itemprop="url" class="link link--filler-s-primary"><span itemprop="name" class="not-black">诺冲</span></a></div></header> <!----> <!----> <section class="page-content page__full-content"><div class="row"><div class="column no-pad-l sm-50 post-share"><div class="observer" data-v-e3cf7e50><!----> <!----> <!----></div></div> <!----></div> <div class="row"><div class="column no-pad-l md-75 xl-67 post-content"><div class="post-content__box-player"><!----></div> <div class="post-content__excerpt"><!----></div> <div class="post-content__table-contents"><div class="table-contents"><h3 id="table-of-content" class="table-contents__title">目录</h3> <nav><ol class="table-contents__list"><li class="table-contents__item"><a href="#webassembly-是什么" title="WebAssembly 是什么？" class="table-contents__link"><span>WebAssembly 是什么？</span></a></li><!----><!----><li class="table-contents__item"><a href="#编译目标" title="编译目标" class="table-contents__link"><span>编译目标</span></a></li><li class="table-contents__item"><a href="#webassembly-的由来" title="WebAssembly 的由来" class="table-contents__link"><span>WebAssembly 的由来</span></a></li><!----><!----><!----><!----><li class="table-contents__item"><a href="#webassembly-的优势" title="WebAssembly 的优势" class="table-contents__link"><span>WebAssembly 的优势</span></a></li><!----><li class="table-contents__item"><a href="#webassembly-在大型项目中的应用" title="WebAssembly 在大型项目中的应用" class="table-contents__link"><span>WebAssembly 在大型项目中的应用</span></a></li><!----><!----><!----><li class="table-contents__item"><a href="#webassembly-要取代-javascript" title="WebAssembly 要取代 JavaScript？" class="table-contents__link"><span>WebAssembly 要取代 JavaScript？</span></a></li><li class="table-contents__item"><a href="#什么时候使用-webassembly" title="什么时候使用 WebAssembly？" class="table-contents__link"><span>什么时候使用 WebAssembly？</span></a></li><li class="table-contents__item"><a href="#webassembly-的几个开发工具" title="WebAssembly 的几个开发工具" class="table-contents__link"><span>WebAssembly 的几个开发工具</span></a></li><li class="table-contents__item"><a href="#webassembly-的意义" title="WebAssembly 的意义" class="table-contents__link"><span>WebAssembly 的意义</span></a></li><li class="table-contents__item"><a href="#webassembly-实操" title="WebAssembly 实操" class="table-contents__link"><span>WebAssembly 实操</span></a></li><!----><li class="table-contents__item"><a href="#写在后面" title="写在后面" class="table-contents__link"><span>写在后面</span></a></li></ol></nav></div></div> <div itemprop="articleBody"><div class="content__default"><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>接触 WebAssembly 之后，在 google 上看了很多资料。然而，这些资料对 WebAssembly 的使用、介绍、意义等方面的解释都比较模糊和笼统，总是令人感觉没有获得预期的收获，要么是因为文章中的例子自己去实操不能成功，要么就是不知所云、一脸蒙蔽。本着业务催生技术的态度，这篇文章就此诞生了。本文前部分主要是对 WebAssembly 的背景做一些介绍，包括 WebAssembly 是怎么出现的？优势在哪儿？等等。</p></div> <h2 id="webassembly-是什么"><a href="#webassembly-是什么" class="header-anchor">#</a> WebAssembly 是什么？</h2> <h3 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h3> <p>首先我们给它下个定义。</p> <p><strong>WebAssembly 或者 wasm 是一个可移植、体积小、加载快并且兼容 Web 的全新格式。</strong></p> <h3 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h3> <p>当然，我知道，即使你看了定义也不知道 WebAssembly 到底是什么东西。废话不多说，我们通过一个简单的例子来看看 WebAssembly 到底是什么。</p> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e/daf9.webp" alt=""><figcaption>An image</figcaption></figure> <p>上图的左侧是用 C++ 实现的求递归的函数。中间是十六进制的 Binary Code。右侧是指令文本。可能有人就问，这跟 WebAssembly 有个屁的关系？其实，中间的十六进制的 Binary Code 就是 WebAssembly。</p> <h2 id="编译目标"><a href="#编译目标" class="header-anchor">#</a> 编译目标</h2> <p>大家可以看到，其可写性和可读性差到无法想象。那是因为 WebAssembly 不是用来给各位用手<code>一行一行撸</code>的代码，WebAssembly 是一个<code>编译目标</code>。什么是编译目标？当我们写 TypeScript 的时候，Webpack 最后打包生成的 JavaScript 文件就是编译目标。可能大家已经猜到了，上图的 Binary 就是左侧的 C++ 代码经过编译器编译之后的结果。</p> <h2 id="webassembly-的由来"><a href="#webassembly-的由来" class="header-anchor">#</a> WebAssembly 的由来</h2> <h3 id="性能瓶颈"><a href="#性能瓶颈" class="header-anchor">#</a> 性能瓶颈</h3> <p>在业务需求越来越复杂的现在，前端的开发逻辑越来越复杂，相应的代码量随之变的越来越多。相应的，整个项目的起步的时间越来越长。在性能不好的电脑上，启动一个前端的项目甚至要花上十多秒。这些其实还好，说明前端越来越受到重视，越来越多的人开始进行前端的开发。</p> <p>但是除了逻辑复杂、代码量大，还有另一个原因是 JavaScript 这门语言本身的缺陷，JavaScript 没有静态变量类型。这门解释型编程语言的作者 Brendan Eich，仓促的创造了这门如果被广泛使用的语言，以至于 JavaScript 的发展史甚至在某种层面上变成了填坑史。为什么说没有静态类型会降低效率。这会涉及到一些 JavaScript 引擎的一些知识。</p> <p>静态变量类型所带来的问题</p> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e/98d0.webp" alt=""><figcaption>An image</figcaption></figure> <p>这是 Microsoft Edge 浏览器的 JavaScript 引擎 ChakraCore 的结构。我们来看一看我们的 - JavaScript 代码在引擎中会经历什么。</p> <ul><li>JavaScript 文件会被下载下来。</li> <li>然后进入 Parser，Parser 会把代码转化成 AST（抽象语法树）。
然后根据抽象语法树，Bytecode Compiler 字节码编译器会生成引擎能够直接阅读、执行的字节码。</li> <li>字节码进入翻译器，将字节码一行一行的翻译成效率十分高的 Machine Code。</li></ul> <p>在项目运行的过程中，引擎会对执行次数较多的 function 记性优化，引擎将其代码编译成 Machine Code 后打包送到顶部的 Just-In-Time(JIT) Compiler，下次再执行这个 function，就会直接执行编译好的 Machine Code。但是由于 JavaScript 的动态变量，上一秒可能是 Array，下一秒就变成了 Object。那么上一次引擎所做的优化，就失去了作用，此时又要再一次进行优化。</p> <h3 id="asm-js-出现"><a href="#asm-js-出现" class="header-anchor">#</a> asm.js 出现</h3> <p>所以为了解决这个问题，WebAssembly 的前身，asm.js 诞生了。asm.js 是一个 Javascript 的严格子集，合理合法的 asm.js 代码一定是合理合法的 JavaScript 代码，但是反之就不成立。同 WebAssembly 一样，asm.js 不是用来给各位用手 一行一行撸 的代码，asm.js 是一个 编译目标。它的可读性、可读性虽然比 WebAssembly 好，但是对于开发者来说，仍然是无法接受的。</p> <p>asm.js 强制静态类型，举个例子。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">asmJs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">'use asm'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> myInt <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> myDouble <span class="token operator">=</span> <span class="token operator">+</span><span class="token number">1.1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为什么 asm.js 会有静态类型呢？因为像 0 | 0 这样的，代表这是一个 Int 的数据，而+1.1 则代表这是一个 Double 的数据。</p> <h3 id="asm-js-不能解决所有的问题"><a href="#asm-js-不能解决所有的问题" class="header-anchor">#</a> asm.js 不能解决所有的问题</h3> <p>可能有人有疑问，这问题不是解决了吗？那为什么会有 WebAssembly？WebAssembly 又解决了什么问题？大家可以再看一下上面的 ChakraCore 的引擎结构。无论 asm.js 对静态类型的问题做的再好，它始终逃不过要经过 Parser，要经过 ByteCode Compiler，而这两步是 JavaScript 代码在引擎执行过程当中消耗时间最多的两步。而 WebAssembly 不用经过这两步。这就是 WebAssembly 比 asm.js 更快的原因。</p> <h3 id="webassembly-横空出世"><a href="#webassembly-横空出世" class="header-anchor">#</a> WebAssembly 横空出世</h3> <p>所以在 2015 年，我们迎来了 WebAssembly。WebAssembly 是经过编译器编译之后的代码，体积小、起步快。在语法上完全脱离 JavaScript，同时具有沙盒化的执行环境。WebAssembly 同样的强制静态类型，是 C/C++/Rust 的编译目标。</p> <h2 id="webassembly-的优势"><a href="#webassembly-的优势" class="header-anchor">#</a> WebAssembly 的优势</h2> <h3 id="webassembly-和-asm-js-性能对比"><a href="#webassembly-和-asm-js-性能对比" class="header-anchor">#</a> WebAssembly 和 asm.js 性能对比</h3> <p>下面的图是 Unity WebGL 使用和不使用 WebAssembly 的起步时间对比的一个 BenchMark，给大家当作一个参考。可以看到，在 FireFox 中，WebAssembly 和 asm.js 的性能差异达到了 2 倍，在 Chrome 中达到了 3 倍，在 Edge 中甚至达到了 6 倍。通过这些对比也可以从侧面看出，目前所有的主流浏览器都已经支持 WebAssembly V1（Node &gt;= 8.0.0）。</p> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e/ae8d.webp" alt=""><figcaption>An image</figcaption></figure> <p>与 JavaScript 做对比
我自己在一个用 create-react-app 新建的项目中，分别对比了 WebAssembly 版本和原生 JavaScript 版本的递归无优化的 Fibonacci 函数，下图是这两个函数在值是 45、48、50 的时候的性能对比。</p> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e/10d3.webp" alt=""><figcaption>An image</figcaption></figure> <p>看图说话，这就是 WebAssembly 与 JavaScript 很实际的一个性能对比。几乎稳定的是 JavaScript 的两倍。</p> <h2 id="webassembly-在大型项目中的应用"><a href="#webassembly-在大型项目中的应用" class="header-anchor">#</a> WebAssembly 在大型项目中的应用</h2> <p>在这里能够举的例子还是很多，比如 AutoCAD、GoogleEarth、Unity、Unreal、PSPDKit、WebPack 等等。拿其中几个来简单说一下。</p> <h3 id="autocad"><a href="#autocad" class="header-anchor">#</a> AutoCAD</h3> <p>这是一个用于画图的软件，在很长的一段时间是没有 Web 的版本的，原因有两个，其一，是 Web 的性能的确不能满足他们的需求。其二，在 WebAssembly 没有面世之前，AutoCAD 是用 C++ 实现的，要将其搬到 Web 上，就意味着要重写他们所有的代码，这代价十分的巨大。</p> <p>而在 WebAssembly 面世之后，AutoCAD 得以利用编译器，将其沉淀了 30 多年的代码直接编译成 WebAssembly，同时性能基于之前的普通 Web 应用得到了很大的提升。正是这些原因，得以让 AutoCAD 将其应用从 Desktop 搬到 Web 中。</p> <h3 id="google-earth"><a href="#google-earth" class="header-anchor">#</a> Google Earth</h3> <p>Google Earth 也就是谷歌地球，因为需要展示很多 3D 的图像，对性能要求十分高，所以采取了一些 Native 的技术。最初的时候就连 Google Chrome 浏览器都不支持 Web 的版本，需要单独下载 Google Earth 的 Destop 应用。而在 WebAssembly 之后呢，谷歌地球推出了 Web 的版本。而据说下一个可以运行谷歌地球的浏览器是 FireFox。</p> <h3 id="unity-和-unreal-游戏引擎"><a href="#unity-和-unreal-游戏引擎" class="header-anchor">#</a> Unity 和 Unreal 游戏引擎</h3> <p>这里给两个油管的链接自己体验一下。</p> <ul><li>Unity WebGL 的戳这里:
<a href="https://youtu.be/rIyIlATjNcE" target="_blank" rel="noopener noreferrer">https://youtu.be/rIyIlATjNcE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Unreal 引擎的戳这里:
<a href="https://www.youtube.com/watch?v=TwuIRcpeUWE" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=TwuIRcpeUWE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="webassembly-要取代-javascript"><a href="#webassembly-要取代-javascript" class="header-anchor">#</a> WebAssembly 要取代 JavaScript？</h2> <p>答案是否定的，请看下图。</p> <figure><img src="data:image/webp;base64,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" alt=""><figcaption>An image</figcaption></figure> <p>大家可以看到这是一个协作关系。WebAssembly 是被设计成 JavaScript 的一个完善、补充，而不是一个替代品。WebAssembly 将很多编程语言带到了 Web 中。但是 JavaScript 因其不可思议的能力，仍然将保留现有的地位。</p> <h2 id="什么时候使用-webassembly"><a href="#什么时候使用-webassembly" class="header-anchor">#</a> 什么时候使用 WebAssembly？</h2> <p>说了这么多，我到底什么时候该使用它呢？总结下来，大部分情况分两个点。</p> <ul><li>对性能有很高要求的 App/Module/ 游戏。</li> <li>在 Web 中使用 C/C++/Rust/Go 的库举个简单的例子。如果你要实现的 Web 版本的 Ins 或者 Facebook， 你想要提高效率。那么就可以把其中对图片进行压缩、解压缩、处理的工具，用 C++ 实现，然后再编译回 WebAssembly。</li></ul> <h2 id="webassembly-的几个开发工具"><a href="#webassembly-的几个开发工具" class="header-anchor">#</a> WebAssembly 的几个开发工具</h2> <ul><li>AssemblyScript。支持直接将 TypeScript 编译成 WebAssembly。这对于很多前端同学来说，入门的门槛还是很低的。
<a href="https://github.com/AssemblyScript/assemblyscript" target="_blank" rel="noopener noreferrer">https://github.com/AssemblyScript/assemblyscript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Emscripten。可以说是 WebAssembly 的灵魂工具不为过，上面说了很多编译，这个就是那个编译器。将其他的高级语言，编译成 WebAssembly。
<a href="https://github.com/kripken/emscripten" target="_blank" rel="noopener noreferrer">https://github.com/kripken/emscripten<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>WABT。是个将 WebAssembly 在字节码和文本格式相互转换的一个工具，方便开发者去理解这个 wasm 到底是在做什么事。
<a href="https://github.com/WebAssembly/wabt" target="_blank" rel="noopener noreferrer">https://github.com/WebAssembly/wabt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="webassembly-的意义"><a href="#webassembly-的意义" class="header-anchor">#</a> WebAssembly 的意义</h2> <p>在我的个人理解上，WebAssembly 并没有要替代 JavaScript，一统天下的意思。我总结下来就两个点。</p> <ul><li>给了 Web 更好的性能。</li> <li>给了 Web 更多的可能关于 WebAssembly 的性能问题，之前也花了很大的篇幅讲过了。而更多的可能，随着 WebAssembly 的技术越来越成熟，势必会有更多的应用，从 Desktop 被搬到 Web 上，这会使本来已经十分强大的 Web 更加丰富和强大。</li></ul> <h2 id="webassembly-实操"><a href="#webassembly-实操" class="header-anchor">#</a> WebAssembly 实操</h2> <p>要进行这个实际操作，你需要安装上文提到过的编译器 Emscripten，然后按照 这个步骤去安装。以下的步骤都默认为你已经安装了 Emscripten。</p> <p>安装步骤:
<a href="http://webassembly.org.cn/getting-started/developers-guide/" target="_blank" rel="noopener noreferrer">http://webassembly.org.cn/getting-started/developers-guide/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="webassembly-在-node-中的应用"><a href="#webassembly-在-node-中的应用" class="header-anchor">#</a> WebAssembly 在 Node 中的应用</h3> <h4 id="导入-emscripten-环境变量"><a href="#导入-emscripten-环境变量" class="header-anchor">#</a> 导入 Emscripten 环境变量</h4> <p>进入到你的 emscripten 安装目录，执行以下代码。</p> <div class="language-js extra-class"><pre class="language-js"><code>source emsdk<span class="token operator">/</span>emsdk_env<span class="token punctuation">.</span>sh
</code></pre></div><h4 id="新建-c-文件"><a href="#新建-c-文件" class="header-anchor">#</a> 新建 C 文件</h4> <p>用 C 实现一个求和文件 test.c，如下。</p> <div class="language- extra-class"><pre class="language-text"><code>int add(int a, int b) {
    return a + b;
}
</code></pre></div><h4 id="使用-emscripten-编译-c-文件"><a href="#使用-emscripten-编译-c-文件" class="header-anchor">#</a> 使用 Emscripten 编译 C 文件</h4> <p>在同样的目录下执行如下代码。</p> <div class="language- extra-class"><pre class="language-text"><code>emcc test.c -Os -s WASM=1 -s SIDE_MODULE=1 -o test.wasm
</code></pre></div><p>emcc 就是 Emscripten 编译器，test.c 是我们的输入文件，-Os 表示这次编译需要优化，-s WASM=1 表示输出 wasm 的文件，因为默认的是输出 asm.js，-s SIDE_MODULE=1 表示就只要这一个模块，不要给我其他乱七八糟的代码，-o test.wasm 是我们的输出文件。</p> <p>编译成功之后，当前目录下就会生成 test.wasm。</p> <h4 id="编写在-node-中调用的代码"><a href="#编写在-node-中调用的代码" class="header-anchor">#</a> 编写在 Node 中调用的代码</h4> <p>新建一个 js 文件 test.js。代码如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> src <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./test.wasm'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token punctuation">{</span>
  memoryBase<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  tableBase<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  memory<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WebAssembly<span class="token punctuation">.</span>Memory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    initial<span class="token operator">:</span> <span class="token number">256</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  table<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WebAssembly<span class="token punctuation">.</span>Table</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    initial<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    element<span class="token operator">:</span> <span class="token string">'anyfunc'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">abort</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token string">'abort'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
WebAssembly<span class="token punctuation">.</span><span class="token function">instantiate</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> <span class="token punctuation">{</span> env<span class="token operator">:</span> env <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function">_add</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="执行-test-js"><a href="#执行-test-js" class="header-anchor">#</a> 执行 test.js</h4> <p>运行以下代码。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>node test.js
</code></pre></div><p>然后就可以看到输出的结果 109 了。</p> <h4 id="webassembly-在-react-当中的应用"><a href="#webassembly-在-react-当中的应用" class="header-anchor">#</a> WebAssembly 在 React 当中的应用</h4> <p>通过 fetch 的方法调用
直接用 fetch 的方式。大概的调用方式如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fibonacciUrl <span class="token operator">=</span> <span class="token string">'./fibonacci.wasm'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> _fibonacci <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getExportFunction</span><span class="token punctuation">(</span>fibonacciUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>而 getExportFunction 具体代码如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">getExportFunction</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token parameter">url</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token punctuation">{</span>
    memoryBase<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    tableBase<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    memory<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WebAssembly<span class="token punctuation">.</span>Memory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      initial<span class="token operator">:</span> <span class="token number">256</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    table<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WebAssembly<span class="token punctuation">.</span>Table</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      initial<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      element<span class="token operator">:</span> <span class="token string">'anyfunc'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">bytes</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> WebAssembly<span class="token punctuation">.</span><span class="token function">instantiate</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token punctuation">{</span> env<span class="token operator">:</span> env <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">instance</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> instance<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="通过-import-c-文件来调用"><a href="#通过-import-c-文件来调用" class="header-anchor">#</a> 通过 import C 文件来调用</h4> <p>先通过 Import 的方式来引进依赖。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> wasmC <span class="token keyword">from</span> <span class="token string">'./add.c'</span><span class="token punctuation">;</span>
</code></pre></div><p>然后进行调用。具体的方式如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">wasmC</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  global<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  env<span class="token operator">:</span> <span class="token punctuation">{</span>
    memoryBase<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    tableBase<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    memory<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WebAssembly<span class="token punctuation">.</span>Memory</span><span class="token punctuation">(</span><span class="token punctuation">{</span> initial<span class="token operator">:</span> <span class="token number">256</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    table<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WebAssembly<span class="token punctuation">.</span>Table</span><span class="token punctuation">(</span><span class="token punctuation">{</span> initial<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> element<span class="token operator">:</span> <span class="token string">'anyfunc'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> exports <span class="token operator">=</span> result<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
  <span class="token keyword">const</span> add <span class="token operator">=</span> exports<span class="token punctuation">.</span>_add<span class="token punctuation">;</span>
  <span class="token keyword">const</span> fibonacci <span class="token operator">=</span> exports<span class="token punctuation">.</span>_fibonacci<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'C return value was'</span><span class="token punctuation">,</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5643</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Fibonacci'</span><span class="token punctuation">,</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>详细的代码在这里:
<a href="https://github.com/detectiveHLH/webassembly-in-react" target="_blank" rel="noopener noreferrer">https://github.com/detectiveHLH/webassembly-in-react<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="写在后面"><a href="#写在后面" class="header-anchor">#</a> 写在后面</h2> <p>如今技术出现的越来越多，但是实际上在工作中能够用到的，越并不是那么多。其实很多大厂所输出的一些技术，都是有业务场景的，有业务做推动。而不是凭空造轮子。所以总结下来适合自己的才是最好的。当然不是说不要了解新技术，了解新技术跟上步伐是十分必要的。我们现在不用，不代表不需要了解。相反，以后再遇到类似的业务场景时，我们就会多一种选择，可以更加从容的对待。</p> <p><a href="https://mp.weixin.qq.com/s/68PRzQ4vuNFjI74fWSYrvw" target="_blank" rel="noopener noreferrer">了解 wasm 的前世今身<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div></div> <div id="shangfang" class="column no-pad-r sm-25 xl-33 xsNone smNone post-sidebar"><div class="ads-container"><!----></div> <!----> <div id="zhongjian"><div class="table-contents-fixed"><h3 id="table-of-content" class="table-contents__title">浮动目录</h3> <nav><ol class="table-contents__list"></ol></nav></div></div></div> <aside id="dibujuli" class="column xs-100"><hr class="divider"> <div><div class="observer" data-v-e3cf7e50><!----> <!----> <!----></div></div> <hr class="divider"> <section class="post-content__disqus"><Vssue name="了解wasm的前世今身"></Vssue></section></aside></div></section></article></div> <section class="row section-newsletter justify-center newsletter-post-wrap"><div class="column sm-100 md-67 xl-50"><div class="newsletter not-black"><span class="meta-text meta-text--primary not-black">关注我们</span> <h2 class="newsletter__title not-black">在收件箱接收新的内容推送</h2> <form method="post" action="https://luzhaoyang.us4.list-manage.com/subscribe/post?u=1de83ba90307cf0e38650d622&amp;amp;id=04aeba270a" class="newsletter__form not-black"><label for="email_news-1603623823985" class="newsletter__label not-black"><input type="email" name="EMAIL" id="email_news-1603623823985" required="required" placeholder="在这里输入您的电子邮件" autocomplete="off" aria-label="在这里输入您的电子邮件" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
        订阅
      </button></form></div></div></section> <aside class="container main"></aside></div> <!----> <div><div class="elevator"><a class="elevator__link"><span class="icon elevator__icon icon-greaterthan"></span> <!----></a> <!----></div> <div class="mask-container"><div class="mask-wrap"><div class="circle-wrapper"><svg xmlns="http://www.w3.org/200/svg" height="100%" width="100%"><circle cx="66" cy="66" r="55" fill="none" stroke="#FF4437" stroke-width="5" stroke-linecap="round" class="circle-full"></circle> <circle cx="66" cy="66" r="55" fill="none" stroke-width="5" stroke-linecap="round" stroke="#FF4437" stroke-dasharray="0,10000" class="circle-detail"></circle></svg> <img class="mobile-bgm-img coupon-num had-percent"></div> <div></div> <div></div> <div class="mobile-bgm-list"><i class="reco-bgm reco-bgm-last last mobile-bgm-btn"></i> <i class="reco-bgm reco-bgm-pause pause mobile-bgm-btn" style="display:none;"></i> <i class="reco-bgm reco-bgm-play play mobile-bgm-btn" style="display:;"></i> <i class="reco-bgm reco-bgm-next next mobile-bgm-btn"></i></div> <div class="mobile-bgm-close"><i class="iconfont iconLogonClosed mobile-bgm-btn"></i></div></div></div></div> <!----></div></main> <footer id="footer" class="footer "><div class="footer-box1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 161" class="footer-box__shape"><path d="M-11.925-4809v-154.746c40.454,19.75,273.683,130.936,420.544,142.612,161.25,12.821,339.978-42.709,521.543-86.3,169.82-40.769,395.43,29.2,423.912,38.429v60Z" transform="translate(11.926 4970)"></path></svg></div> <div class="footer-box2"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 246" class="footer-box__shape"><path d="M-1505.5-4725.5v-238.1c8.149-3.133,18.138-5.059,29.672-5.9h30.954c201.21,11.667,696.6,224.535,855.572,236.458,205.129,15.385,287.179-164.1,432.047-175.625a42.381,42.381,0,0,1,16.756,1.857V-4725.5Z" transform="translate(1506 4971)"></path></svg> <ul class="footer-social__list"></ul> <div class="footer-newsletter not-black"><div class="newsletter not-black"><span class="meta-text meta-text--primary not-black">关注我们</span> <h2 class="newsletter__title not-black">在收件箱接收新的内容推送</h2> <form method="post" action="https://luzhaoyang.us4.list-manage.com/subscribe/post?u=1de83ba90307cf0e38650d622&amp;amp;id=04aeba270a" class="newsletter__form not-black"><label for="email_news-1603623823987" class="newsletter__label not-black"><input type="email" name="EMAIL" id="email_news-1603623823987" required="required" placeholder="在这里输入您的电子邮件" autocomplete="off" aria-label="在这里输入您的电子邮件" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
        订阅
      </button></form></div></div></div> <section class="footer-box3"><div class="row"><div class="column sm-50 footer-card"><div class="observer" data-v-e3cf7e50><div class="spinner observer__spinner" data-v-e3cf7e50><div class="double-bounce1"></div> <div class="double-bounce2"></div></div> <!----> <!----></div></div> <div class="column sm-50 footer-nav"><div class="row justify-right"><div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--1 not-black"><h2 class="meta-text title not-black">我的小窝</h2> <nav class="footer-nav1"><ul><li class="footer-nav1__item"><a href="/zh/categories/" class="not-black">文章分类</a> <!----></li><li class="footer-nav1__item"><a href="/zh/gallery/" class="not-black">摄影相册</a> <!----></li><!----><li class="footer-nav1__item"><a href="/zh/travel/" class="not-black">旅行简记</a> <!----></li><li class="footer-nav1__item"><a href="/zh/about/" class="not-black">关于我们</a> <!----></li><li class="footer-nav1__item"><a href="/zh/contact/" class="not-black">联系我们</a> <!----></li></ul></nav></div> <div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--2"><h2 class="meta-text title not-black">社区</h2> <nav class="footer-nav2"><ul><li class="footer-nav2__item"><!----> <a href="https://jq.qq.com/?_wv=1027&amp;k=5sOoWzp" rel="noopener nofollow" target="_blank" class="not-black">Q群 931024509</a></li><li class="footer-nav2__item"><!----> <a href="https://nativescript-vue-examples.luzhaoyang.com/" rel="noopener nofollow" target="_blank" class="not-black">NSVue 示例</a></li><li class="footer-nav2__item"><!----> <a href="https://marketplace.visualstudio.com/items?itemName=nuochong.nativescript-vue-extend" rel="noopener nofollow" target="_blank" class="not-black">NSVue 扩展</a></li><li class="footer-nav2__item"><!----> <a href="https://luzhaoyang.com/vue-auto-complete/" rel="noopener nofollow" target="_blank" class="not-black">Vue Auto Complete</a></li></ul></nav></div></div></div> <div class="cpolumn sm-100 footer-copy"><p class="visitors-total" data-v-504ab208><span data-v-504ab208>累计访问</span> <span data-v-504ab208></span> <span data-v-504ab208>次</span></p> <p class="footer-copy-last">2018 - 2020 © NUOCHONG - 源于 
  <a href="https://github.com/" rel="noopener" target="_blank">
    GITHUB
  </a></p></div></div> <span class="shapes shapes--circle" style="left: 3%; top: -20%"></span> <span class="shapes shapes--primary shapes--color3" style="left: 30%; top: -15%"></span> <span class="shapes shapes--primary" style="left: 13%; top: -80%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle shapes--color4" style="left: 40%; top: 200px"></span> <span class="shapes shapes--primary" style="left: 15%; bottom: 10%; transform: rotate(75deg)"></span> <span class="shapes shapes--circle shapes--color3" style="right: 50%; top: 30%"></span> <span class="shapes shapes--primary" style="right: 20%; top: -100%"></span> <span class="shapes shapes--circle" style="right: 10%; top: -20%"></span> <span class="shapes shapes--color4" style="right: 35%; top: -20%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle" style="left: 40%; top: -50%"></span> <span class="shapes shapes--color3" style="right: 30%; top: 20%"></span> <span class="shapes shapes--circle shapes--primary" style="right: 30%; bottom: 20%"></span></section></footer></div> <!----> <!----></div><div class="global-ui"><div><!----> <!----></div><!----></div></div>
    <script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/app.8f734401.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/30.9472f35d.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/5.48be5662.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/29.4409a890.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/28.9960f505.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/32.182b4088.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/0.7a11da10.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/4.aa156cd3.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/3.1e2abf1f.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/9.b8bdd1b9.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/126.7d27f717.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/6.ff77072a.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/7.c71f8b05.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/1.fa8b99fc.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/15.cdf4868f.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/31.5f27bf88.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/2.3ff266e2.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e/assets/js/34.abb626ad.js" defer></script>
  </body>
</html>
