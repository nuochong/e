<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>带你入门前端工程（四）：测试 | 小窝</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#fff">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1575342_kyqje1qgas8.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/baguettebox.js@1.11.0/dist/baguetteBox.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@4.5.1/dist/css/swiper.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mapbox-gl@1.7.0/dist/mapbox-gl.css" type="text/css">
    <link rel="stylesheet" href="https://www.zhangxinxu.com/study/201903/css-idea/cssgram.min.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@4.5.1/dist/js/swiper.min.js"></script>
    <script src="https://static.runoob.com/assets/qrcode/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/shakee93/vue-toasted@v1.1.27/dist/vue-toasted.min.js"></script>
    <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
    <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/locale/zh-cn.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mapbox-gl@1.7.0/dist/mapbox-gl.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mapbox/mapbox-gl-language@0.10.1/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/console-badge@1.3.0/dist/console-badge.umd.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exifreader@3.12.2/dist/exif-reader.min.js"></script>
    <link rel="alternate" type="application/rss+xml" href="https://luzhaoyang.com/rss.xml" title=" RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://luzhaoyang.com/feed.atom" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://luzhaoyang.com/feed.json" title=" JSON Feed">
    <meta name="description" content="博客">
    <meta property="article:published_time" content="2021-02-21T14:01:00.000Z">
    <meta property="article:modified_time" content="2021-02-21T14:01:00.000Z">
    <meta property="og:title" content="带你入门前端工程（四）：测试">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://luzhaoyang.com/zh/posts/dai-ni-ru-men-qian-duan-gong-cheng-si-ce-shi.html">
    <meta property="og:image" content="https://luzhaoyang.com/social/image-social-share-zh.png">
    <meta name="twitter:title" content="带你入门前端工程（四）：测试">
    <meta name="twitter:url" content="https://luzhaoyang.com/zh/posts/dai-ni-ru-men-qian-duan-gong-cheng-si-ce-shi.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://luzhaoyang.com/social/image-social-share-zh.png">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="前端开发">
    <meta property="article:tag" content="前端开发">
    <meta name="theme-color" content="#fff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/favicon/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/styles.a6c0d750.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/app.a6c0d750.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/33.styles.00e40d8b.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/33.00e40d8b.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/4.styles.41ce3471.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/4.41ce3471.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/32.styles.4d868c5b.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/32.4d868c5b.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/30.styles.5d0ca4a7.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/30.5d0ca4a7.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/35.styles.8e51f178.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/35.8e51f178.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/0.styles.1204e969.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/0.1204e969.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/3.8c6464f3.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/20.styles.7cc411da.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/20.7cc411da.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/2.styles.d2e7bb9e.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/2.d2e7bb9e.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/8.styles.cfc1cb07.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/8.cfc1cb07.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/248.2ccac737.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/5.styles.be3f51a2.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/5.be3f51a2.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/6.styles.e5dfaf12.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/6.e5dfaf12.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/1.styles.6f5c2e17.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/1.6f5c2e17.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/14.styles.3e902950.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/14.3e902950.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/34.styles.bd733e52.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/34.bd733e52.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/31.styles.2a689b8c.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/31.2a689b8c.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/37.styles.9aa851d5.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/37.9aa851d5.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/12.styles.8996153d.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/13.styles.d5f095c9.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/15.styles.c7c5a239.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/16.styles.6f4cda85.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/17.styles.dc902aff.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/21.styles.f4695ab8.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/22.styles.fb5c1bdd.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/23.styles.3e0e1c88.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/24.styles.aa8606a5.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/25.styles.7ce96b19.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/26.styles.06e8ed39.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/27.styles.bc759e43.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/28.styles.53b621eb.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/29.styles.11a8b8bb.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/36.styles.20d2a333.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/7.styles.e08199f5.css"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/100.f327563d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/101.b04a49eb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/102.05a2d3b6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/103.c488b3a1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/104.7c175ac0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/105.232c63a2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/106.48d656e6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/107.a1335e97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/108.0cdf25c2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/109.67d55b11.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/110.91b884fe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/111.ecfd7b14.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/112.0e884ecc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/113.9ea692db.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/114.834656d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/115.ada05859.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/116.8e68d97a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/117.e287eb03.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/118.fab0730e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/119.d8d2a92b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/12.8996153d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/120.e22d4c62.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/121.fa81963e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/122.bfa53eaf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/123.166af6c8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/124.d2c38680.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/125.bf8bce87.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/126.3d1f0b23.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/127.10aa4a61.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/128.8607d398.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/129.1c3e1b13.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/13.d5f095c9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/130.812d09f5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/131.ebe3d276.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/132.3fa73baf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/133.336a0b52.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/134.62a7bea5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/135.ea9c72b3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/136.8aea2b6b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/137.100de4ef.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/138.6c09ad67.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/139.2e3d6d73.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/140.54f32107.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/141.4f2b3268.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/142.68c5ef3c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/143.507bb0b2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/144.fbc0d0a0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/145.602f3d5b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/146.3fa01c86.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/147.0804b618.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/148.5710daf8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/149.c8d1709b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/15.c7c5a239.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/150.d88454d1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/151.e33b5d3b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/152.a55b782f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/153.76f2bb32.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/154.fa863f77.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/155.32f139c6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/156.32fe8841.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/157.dde8b26b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/158.0f3ac40b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/159.ce368462.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/16.6f4cda85.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/160.0f577c7d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/161.5713211f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/162.d1663e09.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/163.fad99fbd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/164.df9bad9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/165.0265d9ad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/166.499fd68a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/167.953c782b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/168.07fb36bd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/169.829b1688.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/17.dc902aff.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/170.614d1ff1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/171.6a924662.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/172.fa3586ab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/173.cf2fc4a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/174.89a42ab3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/175.b31b1275.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/176.2a960d48.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/177.462574f3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/178.abee100f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/179.70af3aaf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/18.412be726.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/180.96951c6a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/181.b2db36bf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/182.ce0dd8d2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/183.0fd0bea1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/184.84884d8e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/185.16e531b6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/186.430b98e4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/187.e891bbac.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/188.a0f43ec2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/189.d77eb2cd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/19.f15d460d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/190.88e974c4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/191.5517d57b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/192.5cf1ce1d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/193.5b3980c1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/194.04c19ce2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/195.bca60499.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/196.e21a25dd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/197.8915b0b7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/198.8551d65f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/199.5a595d36.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/200.11833339.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/201.a3dcd443.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/202.1ab59e9f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/203.d54c6f28.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/204.1a6e7aa7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/205.b9458904.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/206.b4ce2d14.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/207.68f3c7a4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/208.c7024e3a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/209.669d93e7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/21.f4695ab8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/210.92919dfb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/211.e26bbaf1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/212.c9ca27e2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/213.aa58aa41.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/214.9509c1ed.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/215.54175325.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/216.b5d9bf5d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/217.ffbd648b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/218.8b0b8b02.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/219.4b1b0276.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/22.fb5c1bdd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/220.9cb6aa3f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/221.056fadd9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/222.c694b708.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/223.1a8933d7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/224.dae0eeff.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/225.ea9d5b70.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/226.20398f81.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/227.90a8552a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/228.ea579cdd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/229.512593d8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/23.3e0e1c88.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/230.1fd8f5dc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/231.bfe197b3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/232.dad62d59.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/233.189d298a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/234.9bc50a7f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/235.ef40af9a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/236.525ea771.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/237.039935c9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/238.d81a55db.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/239.fd777b03.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/24.aa8606a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/240.6fb2f28f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/241.fe710aa2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/242.35dc672e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/243.e46b9822.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/244.082d04b4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/245.962a5f8c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/246.4dd8c580.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/247.a6ef2f33.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/249.d30e353f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/25.7ce96b19.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/250.021c8eb4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/251.e573f88f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/252.21b842b8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/253.91ebf8af.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/254.ffe0feea.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/255.545cd0ce.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/256.8b12bb93.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/257.c7ac1902.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/258.90f7320e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/259.88659b5a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/26.06e8ed39.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/260.ecd06ec5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/261.be9ecf19.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/262.232b0238.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/263.72742ce2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/264.554421ee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/265.6916eac2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/266.f1b4a1e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/267.c6a128a1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/268.3782bd2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/269.32fb9f24.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/27.bc759e43.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/270.42eed758.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/271.3413beff.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/272.0e608447.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/273.fb4d123e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/274.d64f64e1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/275.589f864d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/276.5379f6bd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/277.d18e9342.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/278.e30d0fdd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/279.ee938c3a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/28.53b621eb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/280.ac912d4f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/281.af18bd49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/282.c2d0c349.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/283.1e7d4618.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/284.fde626f7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/285.6312bd41.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/286.b79f5a25.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/287.aab54a1a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/288.25fba119.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/289.79c7dc9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/29.11a8b8bb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/290.b7453175.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/291.9117d3b1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/292.655ad1ae.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/293.054bc97b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/294.a685fcad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/295.b913e196.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/296.ed15162f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/297.b618bb0c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/298.f6ff4ca3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/36.20d2a333.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/38.1c9e5588.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/39.736dab2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/40.5f031cc7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/41.b38c29d5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/42.da29df6f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/43.d2608a00.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/44.cfb729d3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/45.43d12f0a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/46.f195138b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/47.8c3c1513.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/48.fada2fc2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/49.dd68ee37.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/50.b6513e9c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/51.9e8e149d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/52.2ec993c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/53.041a20d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/54.cc0a270e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/55.171b0910.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/56.689f98bb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/57.13a1ca9c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/58.47999e3f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/59.e9134c27.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/60.0cf32b96.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/61.24985807.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/62.9d9dcb4c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/63.7256f665.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/64.e5410f06.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/65.77dc83d7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/66.dcadf8fd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/67.ce462ca0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/68.8d596ba9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/69.bab9c4c6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/7.e08199f5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/70.dba548b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/71.7f012409.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/72.ba767245.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/73.54b52c49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/74.d101ff6f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/75.3d4b9dbd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/76.606a6c66.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/77.cd1e9f0f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/78.15169eb9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/79.41100f8c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/80.06dd4216.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/81.b057687b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/82.a6800a82.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/83.5afcb0f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/84.ba26780b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/85.3404bc4b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/86.5c27350e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/87.63728bb5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/88.8c90a108.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/89.5d7294fd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/9.cf8e12c0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/90.330ead4e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/91.76455817.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/92.404a4cb7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/93.a2e603da.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/94.9f752193.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/95.111abc33.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/96.d5d75cb6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/97.cc3e2fce.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/98.3990eb6f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/99.62741c3d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/vendors~flowchart.ca7cf1e6.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/styles.a6c0d750.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/33.styles.00e40d8b.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/4.styles.41ce3471.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/32.styles.4d868c5b.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/30.styles.5d0ca4a7.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/35.styles.8e51f178.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/0.styles.1204e969.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/20.styles.7cc411da.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/2.styles.d2e7bb9e.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/8.styles.cfc1cb07.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/5.styles.be3f51a2.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/6.styles.e5dfaf12.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/1.styles.6f5c2e17.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/14.styles.3e902950.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/34.styles.bd733e52.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/31.styles.2a689b8c.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/css/37.styles.9aa851d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div itemscope="itemscope" itemtype="https://schema.org/WebPage" class="layout-main"><meta itemprop="name" content=""> <meta itemprop="alternateName" content=""> <meta itemprop="url" content="https://luzhaoyang.com"> <nav aria-label="Navigation" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement" class="container nav-mobile not-black" style="display:none;"><span itemprop="headline" class="nav-mobile__title not-black">导航</span> <ul class="nav-mobile__list not-black"><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">文章分类</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">摄影相册</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">乐谱空间</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">我的留言</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">旅行简记</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">关于我们</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">联系我们</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">后端开发</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">前端开发</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">其它记录</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">旅行生活</span></a></li></ul></nav> <div class="container-fluid-outside wrapper-body__nm"><header itemscope="itemscope" itemtype="https://schema.org/Organization" class="header"><!----> <div class="row header-top"><div class="column xs-33 sm-20"><div class="hamburguer header-top__hamburguer"><div class="hamburguer__wrapper"><span class="hamburguer__line"></span> <span class="hamburguer__line"></span> <span class="hamburguer__line"></span></div></div> <div class="languages header-top__languages"><div class="languages__box"><span class="languages__title meta-text">ZH</span> <span class="languages__icon"></span></div> <ul class="languages__list"><li class="languages__item"><a href="/" class="languages__link router-link-active">
        English
      </a></li><li class="languages__item"><a href="/zh/posts/dai-ni-ru-men-qian-duan-gong-cheng-si-ce-shi.html" aria-current="page" class="languages__link router-link-exact-active router-link-active">
        Chinese
      </a></li></ul></div></div> <div class="column xs-33 sm-60"><div class="header__logo"><a href="/zh/" itemprop="url" class="header-top-logo__link router-link-active"><img itemprop="logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAyCAMAAAD7sXLbAAABDlBMVEUAAAA0SV00SFw0SF40SV40SF40SF0wQGA1SF2u6eau1dQ0SF01RVq+0tbfcZSuxsqwx8qtwcYzSF6y5d4wSGDpdJis3dmwztE1SV40SF2ntMCz4980R16tzs/TbpGov8Wxu8PDa4qtwcQ0SV3GaYqnu8Go0tKxv8avZII1SF2+ztS6z9XzeZ41SV6p7ubwdprki6ep6+Sx392r5+Ku5OBafok9Vmk5SV/EwcnNscDbmbF5qq/ohqTmc5eKXHh0WHJoVG670NOT0M2Gvr5ok5vWb5LLbY7AaYq1Z4erZIRGY3NuVnBDTGKg49y219eV0s+PyceMxsXJt8JwnaPUh6Lse51iiJKhYoBNbHtcUWoRJ6B1AAAALXRSTlMAwECA7+C/EJ8N828wH/3f1KBfNSD+9PPPsEwb8O7e27iUk4+BgH5sZmBTMBV50rNAAAABnUlEQVRIx42U51rCMBSGYymljAICMsS9V1paCihDEBFUcO/7vxEreTBtZt+ffd4m3zknCZiT06JQrSggHKkyRGhKKF1Fdtg/otCPXpDoEUgQiQl9FZKoSYGuQAZRfhnHkIlWkMUXlyH3oZpj+UuQj5YS+zR6TOLTvaV8CWVF4MtDyXXcKbmPOyXz6fFJ/O9R4544UwK/eW16PHQaTfxtV+B7OsJ+fvvfRuf6DdPP02IbhfJnk974awCHJoH9MvJ+qZB+68b6491kMex8xgn/0ppzYXLIE34a+U5If4D0msmDyHMniVMM1tvqIf+R5x8E/SnSuzw9QcxLEqdYRT6OI+pOfZl8baei7iQM6j7eIv+VszjpzyyES+vrBsA+cRbalO3s0+8DPgtXpL4ZByy/z67WPQQB9IU/Qf55UM/GOe/zD2u2iVXuez6ml3d3AE2STo+jMFDwPcTNwVEoCv7Rtql50kTxqD4cZNvZKuCSRNcQF2tnToGA2Fp/xZ8mYwAxRxaiVvfs0gmQsjdfv+t6SfIgDGfbG+maU9oy5Oov1sAUptGGixIAAAAASUVORK5CYII=" srcset="/logo/ktquez-play-logo.png 1x, /logo/ktquez-play-logo@2x.png 2x" alt="小窝"></a></div> <meta itemprop="name" content=""> </div> <div class="column xs-33 sm-20"><div class="search header-top__search"><!----> <span class="icon search__icon icon-search"></span></div> <div class="switch-bw header-top__toggle"><span class="switch-bw__text">
    开启夜间模式
  </span> <label for="switch-bw" class="switch-bw__label"><input type="checkbox" id="switch-bw" name="switch-bw" aria-labelledby="switch-bw-text" class="switch-bw__input"> <span class="switch-bw__ball"></span> <span id="switch-bw-text" hidden="hidden">switch to black or white</span></label></div></div></div></header> <div class="container-fluid"><main id="main" itemscope="itemscope" itemtype="https://schema.org/Blog" class="main-page"><div><a href="#main" class="vue-skip-to">跳到主要内容</a> <div><div class="page page__full row justify-right"><article itemscope="itemscope" itemprop="blogPost" itemtype="https://schema.org/BlogPosting" class="column xs-100 page__full__box box-default"><meta itemprop="mainEntityOfPage" content="/zh/posts/dai-ni-ru-men-qian-duan-gong-cheng-si-ce-shi.html"> <header class="page-header page__full-header"><button type="button" class="ui-button reset-button back-button"><span class="icon back-button__icon icon--arrow icon-arrow"></span> <span class="back-button__text">返回</span></button> <div class="page-header__meta"><time datetime="Sun Feb 21 2021 22:01:00 GMT+0800 (GMT+08:00)" itemprop="datePublished" class="text">
            </time> <meta itemprop="dateModified" content="currentPost.updated_at"> <!----></div> <h1 itemprop="name headline" class="page-header__title">带你入门前端工程（四）：测试</h1> <div class="page-header-cat"><nav class="page-header-cat__nav"><ul class="page-header-cat__list"><li class="page-header-cat__item"><a href="/zh/categories/frontend.html" itemprop="keywords" class="page-header-cat__link meta-text">
                  前端开发
                </a></li></ul></nav></div> <!----> <div itemprop="author" itemscope="itemscope" itemtype="https://schema.org/Person" class="page-header__author"><strong>作者: </strong> <a href="/zh/authors/nuochong.html" rel="author" itemprop="url" class="link link--filler-s-primary"><span itemprop="name" class="not-black">诺冲</span></a></div></header> <div itemprop="image" itemscope="itemscope" itemtype="https://schema.org/ImageObject" class="post-cover"><div class="background-container post-cover__image cover" data-v-2d811ff3></div></div> <!----> <section class="page-content page__full-content"><div class="row"><div class="column no-pad-l sm-50 post-share"><div class="observer" data-v-541be3fd><!----> <!----> <!----></div></div> <!----></div> <div class="row"><div class="column no-pad-l md-75 xl-67 post-content"><div class="post-content__box-player"><!----></div> <div class="post-content__excerpt"><!----></div> <div class="post-content__table-contents"><div class="table-contents"><h3 id="table-of-content" class="table-contents__title">目录</h3> <nav><ol class="table-contents__list"><li class="table-contents__item"><a href="#什么是测试" title="什么是测试" class="table-contents__link"><span>什么是测试</span></a></li><li class="table-contents__item"><a href="#什么时候写测试" title="什么时候写测试" class="table-contents__link"><span>什么时候写测试</span></a></li><li class="table-contents__item"><a href="#测试类型与框架" title="测试类型与框架" class="table-contents__link"><span>测试类型与框架</span></a></li><li class="table-contents__item"><a href="#jest" title="Jest" class="table-contents__link"><span>Jest</span></a></li><li class="table-contents__item"><a href="#单元测试" title="单元测试" class="table-contents__link"><span>单元测试</span></a></li><li class="table-contents__item"><a href="#对一个函数做测试" title="对一个函数做测试" class="table-contents__link"><span>对一个函数做测试</span></a></li><li class="table-contents__item"><a href="#对一个类做测试" title="对一个类做测试" class="table-contents__link"><span>对一个类做测试</span></a></li><li class="table-contents__item"><a href="#对一个组件做测试" title="对一个组件做测试" class="table-contents__link"><span>对一个组件做测试</span></a></li><li class="table-contents__item"><a href="#测试覆盖率" title="测试覆盖率" class="table-contents__link"><span>测试覆盖率</span></a></li><li class="table-contents__item"><a href="#覆盖率统计项" title="覆盖率统计项" class="table-contents__link"><span>覆盖率统计项</span></a></li><li class="table-contents__item"><a href="#tdd-测试驱动开发" title="TDD 测试驱动开发" class="table-contents__link"><span>TDD 测试驱动开发</span></a></li><li class="table-contents__item"><a href="#e2e-测试" title="E2E 测试" class="table-contents__link"><span>E2E 测试</span></a></li><!----><!----><!----><li class="table-contents__item"><a href="#小结" title="小结" class="table-contents__link"><span>小结</span></a></li><li class="table-contents__item"><a href="#参考资料" title="参考资料" class="table-contents__link"><span>参考资料</span></a></li></ol></nav></div></div> <div itemprop="articleBody"><div class="content__default"><h2 id="什么是测试"><a href="#什么是测试" class="header-anchor">#</a> 什么是测试</h2> <p><a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95" target="_blank" rel="noopener noreferrer">维基百科<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的定义：</p> <blockquote><p>在规定的条件下对程序进行操作，以发现程序错误，衡量软件质量，并对其是否能满足设计要求进行评估的过程。</p></blockquote> <p>也可以这样理解：测试的作用是为了提高代码质量和可维护性。</p> <ol><li>提高代码质量：测试就是找 BUG，找出 BUG，然后解决它。BUG 少了，代码质量自然就高了。</li> <li>可维护性：对现有代码进行修改、新增功能从而造成的成本越低，可维护性就越高。</li></ol> <h2 id="什么时候写测试"><a href="#什么时候写测试" class="header-anchor">#</a> 什么时候写测试</h2> <p>如果你的程序非常简单，可以不用写测试。例如下面的程序，功能简单，只有十几行代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 55</span>
</code></pre></div><p>如果你的程序有数百行代码，但封装得很好，完美的践行了模块化的理念。每个模块功能单一、代码少，也可以不用写测试。
如果你的程序有成千上万行代码，数十个模块，模块与模块之间的交互错综复杂。在这种情况下，就需要写测试了。试想一下，在你对一个非常复杂的项目进行修改后，如果没有测试会是什么情况？你需要将跟这次修改有关的每个功能都手动测一边，以防止有 BUG 出现。但如果你写了测试，只需执行一条命令就能知道结果，省时省力。</p> <h2 id="测试类型与框架"><a href="#测试类型与框架" class="header-anchor">#</a> 测试类型与框架</h2> <p>测试类型有很多种：单元测试、集成测试、白盒测试…
测试框架也有很多种：Jest、Jasmine、LambdaTest…
本章将只讲解单元测试和 E2E 测试（end-to-end test 端到端测试）。其中单元测试使用的测试框架为 <a href="https://jestjs.io/docs/zh-Hans/getting-started" target="_blank" rel="noopener noreferrer">Jest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，E2E 使用的测试框架为 <a href="https://docs.cypress.io/guides/overview/why-cypress.html" target="_blank" rel="noopener noreferrer">Cypress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="jest"><a href="#jest" class="header-anchor">#</a> Jest</h2> <p>安装</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D jest
</code></pre></div><p>打开 <code>package.json</code> 文件，在 <code>scripts</code> 下添加测试命令：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>
</code></pre></div><p>然后在项目根目录下新建 <code>test</code> 目录，作为测试目录。</p> <h2 id="单元测试"><a href="#单元测试" class="header-anchor">#</a> 单元测试</h2> <p>什么是单元测试？<a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95" target="_blank" rel="noopener noreferrer">维基百科<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中给出的定义为：</p> <blockquote><p>单元测试（英语：Unit Testing）又称为模块测试，是针对程序模块（软件设计的最小单位）来进行正确性检验的测试工作。</p></blockquote> <p>从前端角度来看，单元测试就是对一个函数、一个组件、一个类做的测试，它针对的粒度比较小。
单元测试应该怎么写呢？</p> <ol><li>根据正确性写测试，即正确的输入应该有正常的结果。</li> <li>根据错误性写测试，即错误的输入应该是错误的结果。</li></ol> <h2 id="对一个函数做测试"><a href="#对一个函数做测试" class="header-anchor">#</a> 对一个函数做测试</h2> <p>例如一个取绝对值的函数 <code>abs()</code>，输入 <code>1,2</code>，结果应该与输入相同；输入 <code>-1,-2</code>，结果应该与输入相反。如果输入非数字，例如 <code>&quot;abc&quot;</code>，应该抛出一个类型错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">function</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'参数必须为数值型'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span>a<span class="token punctuation">;</span>
  <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// test.spec.js</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abs'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span>TypeError<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类型错误</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在我们需要测试一下 <code>abs()</code> 函数：在 <code>src</code> 目录新建一个 <code>main.js</code> 文件，在 <code>test</code> 目录新建一个 <code>test.spec.js</code> 文件。然后将上面的两个函数代码写入对应的文件，执行 <code>npm run test</code>，就可以看到测试效果了。</p> <figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAC0CAIAAAAPTscQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF3WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1NjoxNiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MDk6MzgrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MDk6MzgrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OGQ2MjBmNDYtYmRmZC1kZTRh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" alt=""><figcaption>章节配图</figcaption></figure> <h2 id="对一个类做测试"><a href="#对一个类做测试" class="header-anchor">#</a> 对一个类做测试</h2> <p>假设有这样一个类：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Math</span> <span class="token punctuation">{</span>
    <span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们必须把这个类的所有方法都测一遍。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math.abs'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math.sqrt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Math.pow'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="对一个组件做测试"><a href="#对一个组件做测试" class="header-anchor">#</a> 对一个组件做测试</h2> <p>组件测试比较难，因为很多组件都涉及了 DOM 操作。
例如一个上传图片组件，它有一个将图片转成 base64 码的方法，那要怎么测试呢？一般测试都是跑在 node 环境下的，而 node 环境没有 DOM 对象。
我们先来回顾一下上传图片的过程：</p> <ol><li>点击 <code>&lt;input type=&quot;file&quot; /&gt;</code>，选择图片上传。</li> <li>触发 <code>input</code> 的 <code>change</code> 事件，获取 <code>file</code> 对象。</li> <li>用 <code>FileReader</code> 将图片转换成 <code>base64</code> 码。</li></ol> <p>这个过程和下面的代码是一样的：</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fileChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> fileResult <span class="token operator">=</span> res<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fileResult<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 base64 码</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的代码只是模拟，真实情况下应该是这样使用：</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fileChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">tobase64</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">tobase64</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> fileResult <span class="token operator">=</span> res<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>fileResult<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 base64 码</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以看到，上面的代码出现了 <code>window</code> 的事件对象 <code>event</code>、<code>FileReader</code>。也就是说，只要我们能够提供这两个对象，就可以在任何环境下运行它。所以我们可以在测试环境下加上这两个对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 重写 File</span>
window<span class="token punctuation">.</span><span class="token function-variable function">File</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 重写 FileReader</span>
window<span class="token punctuation">.</span><span class="token function-variable function">FileReader</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">readAsDataURL</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onload <span class="token operator">&amp;&amp;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onload</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token punctuation">{</span>
          result<span class="token operator">:</span> fileData<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>然后测试可以这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 提前写好文件内容</span>
<span class="token keyword">const</span> fileData <span class="token operator">=</span> <span class="token string">'data:image/test'</span><span class="token punctuation">;</span>
<span class="token comment">// 提供一个假的 file 对象给 tobase64() 函数</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token punctuation">{</span> target<span class="token operator">:</span> <span class="token punctuation">{</span> files<span class="token operator">:</span> <span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  file<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'image/png'</span><span class="token punctuation">;</span>
  file<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'test.png'</span><span class="token punctuation">;</span>
  file<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">1024</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'file content'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">tobase64</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">base64</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>base64<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>fileData<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'data:image/test'</span>
      <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 执行测试</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通过这种 hack 的方式，我们就实现了对涉及 DOM 操作的组件的测试。我的 <a href="https://github.com/woai3c/vue-upload-imgs" target="_blank" rel="noopener noreferrer">vue-upload-imgs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 库就是通过这种方式写的单元测试，有兴趣可以了解一下（测试文件放在 <code>test</code> 目录）。</p> <h2 id="测试覆盖率"><a href="#测试覆盖率" class="header-anchor">#</a> 测试覆盖率</h2> <p>什么是测试覆盖率？用一个公式来表示：<code>代码覆盖率 = 已执行的代码数 / 代码总数</code>。Jest 如果要开启测试覆盖率统计，只需要在 Jest 命令后面加上 <code>--coverage</code> 参数：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest --coverage&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在我们用刚才的测试用例再试一遍，看看测试覆盖率。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">function</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'参数必须为数值型'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span>a<span class="token punctuation">;</span>
  <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// test.spec.js</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abs'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span>TypeError<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类型错误</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhcAAABpCAIAAAAGDJaHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1NjozOSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MTA6NTgrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MTA6NTgrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZTQyNWI0OGQtY2UxMy1mYjQz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" alt=""><figcaption>章节配图</figcaption></figure> <p>上图表示每一项覆盖率都是 100%。
现在我们把测试类型错误的那一行代码注释掉，再试试。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// test.spec.js</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abs'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// expect(() =&gt; abs('abc')).toThrow(TypeError)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg8AAABrCAIAAAB/vfaQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1Njo0OCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MTQ6MjMrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MTQ6MjMrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDdkM2VmZGMtZGRiNS1jNTQx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" alt="">
可以看到测试覆盖率下降了，为什么会这样呢？因为 abs() 函数中判断类型错误的那个分支的代码没有执行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 就是这一个分支语句</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'参数必须为数值型'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="覆盖率统计项"><a href="#覆盖率统计项" class="header-anchor">#</a> 覆盖率统计项</h2> <p>从覆盖率的图片可以看到一共有 4 个统计项：</p> <ol><li>Stmts(statements)：语句覆盖率，程序中的每个语句是否都已执行。</li> <li>Branch：分支覆盖率，是否执行了每个分支。</li> <li>Funcs：函数覆盖率，是否执行了每个函数。</li> <li>Lines：行覆盖率，是否执行了每一行代码。</li></ol> <p>可能有人会有疑问，1 和 4 不是一样吗？其实不一样，因为一行代码可以包含好几个语句。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'参数必须为数值型'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'参数必须为数值型'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>例如上面两段代码，它们对应的测试覆盖率就不一样。现在把测试类型错误的那一行代码注释掉，再试试：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// expect(() =&gt; abs('abc')).toThrow(TypeError)</span>
</code></pre></div><p>第一段代码对应的覆盖率：
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgoAAABrCAIAAACZlD3UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1NzowMSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MTU6MDMrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MTU6MDMrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODhiY2UwOTMtOGNkZC0zMzQ4LTk5NGYtMDY1YjZiZTE1MTRiIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg4YmNlMDkzLThjZGQtMzM0OC05OTRmLTA2NWI2YmUxNTE0YiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjg4YmNlMDkzLThjZGQtMzM0OC05OTRmLTA2NWI2YmUxNTE0YiI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODhiY2UwOTMtOGNkZC0zMzQ4LTk5NGYtMDY1YjZiZTE1MTRiIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTI3VDE0OjU3OjAxKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PniI+JYAAAt8SURBVHja7Z27bhw3FIb9HimcRMpKFhJ1qdLLTxAEBgTIMOAXSGWrW8tFoEdQVl0QIIC20hMsvEWKrRep9y3cZYZzIzmHM5zZuXH3E/5Cprmj+XkuPw85O3xxdv49AAAAYOEFQwAAAAB5AAAAgDwAAABAHgAAACAPAAAAkIcecLfcLD/DCJowghFAHohJaMIIRgB5ICYxHIxgBJAHPBh5gBGMAPKAByMPGA5GAHnAg4lJDAcjgDzgwTDCcDACAcnD28Vqk/883R1Ao+jBMIImjGB0DI1UD0zZMByMYARYXMKDkQcYwQggD3gw8oDhYASQBzyYmMRwMALIAx4MIwwHI4A84MEwgiaMAPIAAAAAeQAAAIA8AAAAQB5YHoURNGGEKyIPtZgvN5vNanGTtdw8Zt/fXs4PwYOz76OvHq9Vy3XED0ZdI76HRqkEw7VlZAcs8tCCV2aCiY780PJQJH3DQZ2c4/4HIQ+pK8SRGb+rpI6XGo3sJ7+yvz+19byeGBl0+jRo9/LQyHBu9w7WFT8/OTLRlOQhukn9FUDqn8HLw4Ajn43wPL6jt+PKQ5PscEjyEHdIYjKLzIocJ/rN1OTBm1Hs0NnV9N/DkAdvmpNw124ZuZPUlOqh45KHPu4kUYUoNtu8aK9feahYRyr1vy7mZ1OSjSYV/bwmhcU9bQ23pqUp/ciBlgv1P6vHz+r6kT+JPa2h83CCLhmZkpBHRfJLfsNZB+0+0/CIWqIByUsQKxHoU/VEHqSeQ9AU3dtQrKyDP6NxDScnKSlgXYzEgO2akSwPjQZZK3ATvk7JERjVe7LMvbE87D3y4tDZPy1s1Hv14FQOrfFuaSS7UYr3fZdH45w+r50Cb6Qqz55uKNNGfzceltiEcW3ompg0ndh2ysiqHlJqd8vCd+PbWy3UL08Z8dzE+oBodo/pW6Pk6DkQzUby4MloXMNVzWHNG5MZiQHbPSOnPDRwG0OM49sz5jT5PYuMRE929jRFZciRd4enGj3tL/ZUBzfbe9Ct7iEPZu2jyIQmD76re/lA6XYV5EGZM2uvk4cms4BOGRl7D/mNxR6cB4Ba5XBY35lhS04v9hzOcJJ7O2/ej9G4hmuWpEqM5IDtnpFbHrwG2fp45ooawWSG7kxBkidLPc2lvA7lwXPkq+VBv2xTG02gejAOo0jLwLDkIXGIdK6RpfL6dQDXdKOJPBRzHL8t004Z6ROxfHbmCA/Lys5kKu5h9CUPnoZrVD34MRrXcPslKXfAdsyogTxIg2xxzGcqeTaPfkk6OBgJniz2HEwevFPl3bK8tvTUwkYTkYd+d076lYfE3toTI76b81pQ7SMPerLuZtXFl5EZk9qcq3Qbxr3VzrUHkgdvw+0nD9c+WzjDGm7/JFUdsB0xsv5Q6mDeg1y5zRB1volrh+uKFOSQh1LPQeXBO1XaaaSNjaaw91BMPAOUh6yWzywXfcTzURyj4tM9xi0Pdk+/J6N6Y2RXD/rWtLNnUTnJSV+qf/uQhwaGc8mDturdlNG4httziaM2YDtkVHYw/0HWM6BxS0oY5o8rc7+3xEjyZLFncZ836Y7B9UgjL2xBOca5y13eFvJwbT9rU+zdVT9+E9LWtO5AWdX25PUsQcWDW255KD23YI6nh990ycjxvQdxtqIt3z89Vs217bX+iowwFE3HX8wr/dXirhWj8QxX8sZsVr7xWgAUA7Z7RvZijvan/QbZdFHjllS7KwY3FRMdR7LKx3M5L4qSgUa+2mn16zS2ES/V4E0GGA5GMALIAzGJPMAIRgB5wIORBxjBCCAPAAAAkAcAAADIAwAAAOSB5VEYQRNGAHnAg2EETRgB5AEPhhE0YYQ8IA94MIygCSNcEXkgy8AImjDCFZEH5AFG0IQRjADyQExCE0YwAvvIg3FORfaa3KAbRQ+GETRhBKNjaKR6YMqG4WAEI8DiEh6MPMAIRgB5wIORBwwHI4A84MHEJIaDEUAe8GAYYTgYAeQBD4YRNGEEkAcAAADIAwAAAOQBAAAA8sDyKIygCSNcEXmowtXzxd+7yxjr0+rGKizO0/67i6zx9D7653Z21fqaxCTyACMYgeHk4ePswczaRe4uZW2xUUKsBPcLodHzD03Mg9Wdpzh/pxrfrfOWMlMDYk//j4cRkx9n293lTsd2FrV/eL7QG9eLKdMs++fJ7fayNIMRG0MxnODJgTMCfcpDlJ0fnk9vtxe3H7uTh1hycufzKFYmLQ9x8Bhp3brbmKw9eu5hKfX0+3hYMfnn+nKnRimSh+3zSQAz07jYPb+NXFGTB83WcVZ9UETExkAMJ3tyyIxAv/KQeowSiZPO5EEF27u6BSvHNeumbB7C06kHRzFTpG9pBIwO/pdq9PGgYvJ0vbt4VowCkYfTe6UKV7o8mLKd/JfcGIzhJE8OmxHoVR7yaX6U0M1ln3byUMjA7lLewKi7pjaXiSUhEa2mFUa3HqwWgtQoqYU4ey2oNHRVqlnu6ffxgGIyXlDKjBVM9aAlx6uyXdKNtHO5MRzDCZ4cOCPQozxoadeew3ZbPXhfM7oN7YPKdzPV8V2t6sWD08jRh6goaOo2D8Se/h8PKyaL0sHee5j8urYgD8nOXOx7cYDIjWEZzvLkA2AE+pEHey1SX18aRx5SN9WQlbr5Xu6Dx2y0++ohyRoqtEo3UFQ5Pkt57T4eSkzGerCdfZC4P2/rFWJa8qCvZKo6W24Mq3qwPDlwRqA3eXDn4lHlobpKGHz3zNo6VtRa7663HtVAYjIqHZyPJ+mLTgHIQ9nupb2HvLoNw3CiJwfNCPQoD9aqt3KUsReX1JJL1Z8YfK5t7jck86+qp3gdDwpXP+97P+knPvcvHdInX6f9YKspD4krpv/MvU5sDEgeyp4cMiPQnzxYq0mJc5jPCOV7y2Kjvzw0uqbRXsTkbrxHs4uv+BmBJH9xwZYHsaf74+HGpCAAakEp3XsoNiSmR7PkiukMoGjXIkVsDMRwgicHzgj0+7W4QwRfVYUmjGAEkAdiEpowghFAHohJDAcjGAHkAQAAAPIAAAAAeQAAAIA8sDwKIwwHI3CE8iCf4tD4qfO9rkBMQhNGMALIwwgezHFAdeA4oDAMN+RxQL/8N/v96+z1p/pGwOJSqBMcjgNqDI4DmqThBjwO6OzN19mb9dl7QwnERhCSPERxsp6p2cTF7SJ9P4Q9xchCSDrk50QdPJdPUirer2e+yUB+C0WDl3j3FpMcB9R4xDgOaJKGG+w4oKhEiAXgk6EEYiMITh7Uckd2ckj6/ver5/PMh+z3dgnv1EsdzvdN13pYdnK2KMcBjQiOA5qs4QY+DkhUAuQhcHlQ7pK9sE84HsTK4GV5yBOoZ6635aFt0dBjTHIcUPPS4YzjgI77OCDk4WjkwTocojd5OGt48s9A1QPHAfmXDhwHNOXqYcDjgJCHI5EHY8+q1+rBesqinUJwHNB4pQPHAU3VcIMfB4Q8HJE8pEk/KSNayIP7nByHPPjPyvuWB44D2rN04DigicjDoMcBIQ/HsrhUPKSUPP/nPM9nT3lofPLPEDHJcUDeX33gOKBJG26g44Au1/GXG3S8djSSo/neQ6sll2ltTR/UNzmgCSMYgTDkof0eAzGJPMAIRuDg5EF/FKrT0oGYhCaMYAQOZHEJAAAA8gAAAAB5AAAAgDywPAojaMIIIA94MIygCSOAPODBMIImjJAH5AEPhhE0YYQ8IA9kGRhBE0a4IvKAPMAImjCCEUAeYARNGMEItJWHt4vVJv95ujuARtGDYQRNGMFoGo3/fvnrJmr57Y+uLvjlyz+373/9meqBKRuGgxGMAItLeDDyACMYgY7xw+xb5AFG0IQRjI4CP/501kQevkMeYARNGMHoKPDqos2ZCMgDjKAJIxgdOM5fnVA9EJMYDkYwAnvh5ctvjloeAAAAsLgEAACgMf4H83OoCnUUO4sAAAAASUVORK5CYII=" alt="">
第二段代码对应的覆盖率：
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgkAAABrCAIAAAByo4bXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1NzowOSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MTU6NDIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MTU6NDIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MWRlOTQ4ZGYtZTU2Yi02NjQ2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" alt="">
它们未执行的语句都是一样，但第一段代码 <code>Lines</code> 覆盖率更低，因为它有一行代码没执行。而第二段代码未执行的语句和判断语句是在同一行，所以 <code>Lines</code> 覆盖率为 100%。</p> <h2 id="tdd-测试驱动开发"><a href="#tdd-测试驱动开发" class="header-anchor">#</a> TDD 测试驱动开发</h2> <p>TDD(Test-Driven Development) 就是根据需求提前把测试代码写好，然后根据测试代码实现功能。
TDD 的初衷是好的，但如果你的需求经常变（你懂的），那就不是一件好事了。很有可能你天天都在改测试代码，业务代码反而没怎么动。
所以 TDD 用不用还得取决于业务需求是否经常变更，以及你对需求是否有清晰的认识。</p> <h2 id="e2e-测试"><a href="#e2e-测试" class="header-anchor">#</a> E2E 测试</h2> <p>端到端测试，主要是模拟用户对页面进行一系列操作并验证其是否符合预期。本章将使用 <a href="https://docs.cypress.io/guides/overview/why-cypress.html#In-a-nutshell" target="_blank" rel="noopener noreferrer">Cypress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 讲解 E2E 测试。
Cypress 在进行 E2E 测试时，会打开 Chrome 浏览器，然后根据测试代码对页面进行操作，就像一个正常的用户在操作页面一样。</p> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D cypress
</code></pre></div><p>打开 <code>package.json</code> 文件，在 <code>scripts</code> 新增一条命令：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;cypress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress open&quot;</span>
</code></pre></div><p>然后执行 <code>npm run cypress</code> 就可以打开 Cypress。首次打开会自动创建 Cypress 提供的默认测试脚本。</p> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/08eb.png" alt=""><figcaption>章节配图</figcaption></figure> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/0534.png" alt=""><figcaption>章节配图</figcaption></figure> <p>点击右边的 <code>Run 19 integration specs</code> 就会开始执行测试。</p> <figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAD6CAIAAAAN9zQRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1NzozOCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MTg6NDkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MTg6NDkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YzY4YmY0YTktM2VjYS0wOTRj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" alt=""><figcaption>章节配图</figcaption></figure> <h3 id="第一次测试"><a href="#第一次测试" class="header-anchor">#</a> 第一次测试</h3> <p>打开 <code>cypress</code> 目录，在 <code>integration</code> 目录下新建一个 <code>e2e.spec.js</code> 测试文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'The Home Page'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'successfully loads'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行它，如无意外应该会看到一个测试失败的提示。</p> <figure><img src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/e76d.png" alt=""><figcaption>章节配图</figcaption></figure> <p>因为测试文件要求访问 <code>http://localhost:8080</code> 服务器，但现在还没有。所以我们需要使用 express 创建一个服务器，新建 <code>server.js</code> 文件，输入以下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// server.js</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">8080</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening at http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行 <code>node server.js</code>，重新运行测试，这次就可以看到正确的结果了。</p> <figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAn4AAADdCAIAAACqpeheAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1Nzo1NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MTk6NTIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MTk6NTIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZTBlZjFhNjYtZWNhZi1mMzRi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" alt=""><figcaption>章节配图</figcaption></figure> <p><strong>PS</strong>： 如果你使用了 ESlint 来校验代码，则需要下载 <code>eslint-plugin-cypress</code> 插件，否则 Cypress 的全局命令会报错。下载插件后，打开 <code>.eslintrc</code> 文件，在 <code>plugins</code> 选项中加上 <code>cypress</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;cypress&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="模仿用户登录"><a href="#模仿用户登录" class="header-anchor">#</a> 模仿用户登录</h3> <p>上一个测试实在是有点小儿科，这次我们来写一个稍微复杂一点的测试，模仿用户登录：</p> <ol><li>用户打开登录页 <code>/login.html</code></li> <li>输入账号密码（都是 <code>admin</code>）</li> <li>登录成功后，跳转到 <code>/index.html</code></li></ol> <p>首先需要重写服务器，修改一下 <code>server.js</code> 文件的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// server.js</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">8080</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> account<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  <span class="token comment">// 由于没有注册功能，所以假定账号密码都为 admin</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>account <span class="token operator">==</span> <span class="token string">'admin'</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">==</span> <span class="token string">'admin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      msg<span class="token operator">:</span> <span class="token string">'登录成功'</span><span class="token punctuation">,</span>
      code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      msg<span class="token operator">:</span> <span class="token string">'登录失败，请输入正确的账号密码'</span><span class="token punctuation">,</span>
      code<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening at http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>由于没有注册功能，所以暂时在后端写死账号密码为 <code>admin</code>。然后新建两个 html 文件：<code>login.html</code> 和 <code>index.html</code>，放在 <code>public</code> 目录。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- login.html  --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">div</span> <span class="token punctuation">{</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">button</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> 0.1s<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 12px 20px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> #409eff<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">button:active</span> <span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #3a8ee6<span class="token punctuation">;</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> #3a8ee6<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">input</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">background-image</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dcdfe6<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #606266<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0 15px<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> border-color 0.2s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0.645<span class="token punctuation">,</span> 0.045<span class="token punctuation">,</span> 0.355<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入账号<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入密码<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/axios/0.21.0/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        axios
          <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            account<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.account'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            password<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'/index.html'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">alert</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html  --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>index<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    Hello World!
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>login.html 静态页</strong></p> <figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApQAAADcCAIAAABBOaZDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1ODowNSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MjA6MTQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MjA6MTQrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzFhNGJkMTgtYWVjYS00NzQz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" alt=""><figcaption>章节配图</figcaption></figure> <p><strong>index.html 静态页</strong></p> <figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYgAAAB1CAIAAADbWuECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wMS0yN1QxNDo1ODoxMSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDEtMjdUMjM6MjA6MzMrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDEtMjdUMjM6MjA6MzMrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NmYwZGY0OGItOTNlMi0zZjQz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" alt=""><figcaption>章节配图</figcaption></figure> <p>然后把测试文件内容改一下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'The Home Page'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8080/login.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 输入账号密码</span>
    cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.account'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 重定向到 /index</span>
    cy<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'include'</span><span class="token punctuation">,</span> <span class="token string">'http://localhost:8080/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 断言 index.html 页面是包含 Hello World! 文本</span>
    cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在重新运行服务器 <code>node server.js</code>，再执行 <code>npm run cypress</code>，点击右边的 <code>Run...</code> 开始测试。</p> <p>测试结果正确。为了统一脚本的使用规范，最好将 <code>node server.js</code> 命令替换为 <code>npm run start</code>：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest --coverage test/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --ext .js test/ src/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node server.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cypress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress open&quot;</span>
 <span class="token punctuation">}</span>
</code></pre></div><h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p>本章所有的测试用例都可以在我的 <a href="https://github.com/woai3c/front-end-engineering-demo" target="_blank" rel="noopener noreferrer">github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 上找到，建议把项目克隆下来，亲自运行一遍。</p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <p><a href="https://www.zhihu.com/question/28729261" target="_blank" rel="noopener noreferrer">单元测试到底是什么？应该怎么做？- coolhappy 的回答<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://jestjs.io/docs/zh-Hans/getting-started" target="_blank" rel="noopener noreferrer">Jest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://docs.cypress.io/guides/overview/why-cypress.html" target="_blank" rel="noopener noreferrer">Cypress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%A2%BC%E8%A6%86%E8%93%8B%E7%8E%87" target="_blank" rel="noopener noreferrer">代码覆盖率<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6921969582731165704" target="_blank" rel="noopener noreferrer">带你入门前端工程（四）：测试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div></div> <div id="shangfang" class="column no-pad-r sm-25 xl-33 xsNone smNone post-sidebar"><div class="ads-container"><!----></div> <!----> <div id="zhongjian"><div class="table-contents-fixed"><h3 id="table-of-content" class="table-contents__title">浮动目录</h3> <nav><ol class="table-contents__list"></ol></nav></div></div></div> <aside id="dibujuli" class="column xs-100"><hr class="divider"> <div><div class="observer" data-v-541be3fd><!----> <!----> <!----></div></div> <hr class="divider"> <section class="post-content__disqus"><Vssue name="带你入门前端工程（四）：测试"></Vssue></section></aside></div></section></article></div> <section class="row section-newsletter justify-center newsletter-post-wrap"><div class="column sm-100 md-67 xl-50"><div class="newsletter not-black"><span class="meta-text meta-text--primary not-black">关注我们</span> <h2 class="newsletter__title not-black">在收件箱接收新的内容推送</h2> <form method="post" action="https://luzhaoyang.us4.list-manage.com/subscribe/post?u=1de83ba90307cf0e38650d622&amp;amp;id=04aeba270a" class="newsletter__form not-black"><label for="email_news-1660729914281" class="newsletter__label not-black"><input type="email" name="EMAIL" id="email_news-1660729914281" required="required" placeholder="在这里输入您的电子邮件" autocomplete="off" aria-label="在这里输入您的电子邮件" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
        订阅
      </button></form></div></div></section> <aside class="container main"></aside></div> <!----> <div><div class="elevator"><a class="elevator__link"><span class="icon elevator__icon icon-greaterthan"></span> <!----></a> <!----></div> <div class="mask-container"><div class="mask-wrap"><div class="circle-wrapper"><svg xmlns="http://www.w3.org/200/svg" height="100%" width="100%"><circle cx="66" cy="66" r="55" fill="none" stroke="#FF4437" stroke-width="5" stroke-linecap="round" class="circle-full"></circle> <circle cx="66" cy="66" r="55" fill="none" stroke-width="5" stroke-linecap="round" stroke="#FF4437" stroke-dasharray="0,10000" class="circle-detail"></circle></svg> <img class="mobile-bgm-img coupon-num had-percent"></div> <div></div> <div></div> <div class="mobile-bgm-list"><i class="reco-bgm reco-bgm-last last mobile-bgm-btn"></i> <i class="reco-bgm reco-bgm-pause pause mobile-bgm-btn" style="display:none;"></i> <i class="reco-bgm reco-bgm-play play mobile-bgm-btn" style="display:;"></i> <i class="reco-bgm reco-bgm-next next mobile-bgm-btn"></i></div> <div class="mobile-bgm-close"><i class="iconfont iconLogonClosed mobile-bgm-btn"></i></div></div></div></div> <!----></div></main></div> <footer id="footer" class="footer "><div class="footer-box1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 161" class="footer-box__shape"><path d="M-11.925-4809v-154.746c40.454,19.75,273.683,130.936,420.544,142.612,161.25,12.821,339.978-42.709,521.543-86.3,169.82-40.769,395.43,29.2,423.912,38.429v60Z" transform="translate(11.926 4970)"></path></svg></div> <div class="footer-box2"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 246" class="footer-box__shape"><path d="M-1505.5-4725.5v-238.1c8.149-3.133,18.138-5.059,29.672-5.9h30.954c201.21,11.667,696.6,224.535,855.572,236.458,205.129,15.385,287.179-164.1,432.047-175.625a42.381,42.381,0,0,1,16.756,1.857V-4725.5Z" transform="translate(1506 4971)"></path></svg> <ul class="footer-social__list"></ul> <div class="footer-newsletter not-black"><div class="newsletter not-black"><span class="meta-text meta-text--primary not-black">关注我们</span> <h2 class="newsletter__title not-black">在收件箱接收新的内容推送</h2> <form method="post" action="https://luzhaoyang.us4.list-manage.com/subscribe/post?u=1de83ba90307cf0e38650d622&amp;amp;id=04aeba270a" class="newsletter__form not-black"><label for="email_news-1660729914283" class="newsletter__label not-black"><input type="email" name="EMAIL" id="email_news-1660729914283" required="required" placeholder="在这里输入您的电子邮件" autocomplete="off" aria-label="在这里输入您的电子邮件" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
        订阅
      </button></form></div></div></div> <section class="footer-box3"><div class="row"><div class="column sm-50 footer-card"><div class="observer" data-v-541be3fd><div class="spinner observer__spinner" data-v-541be3fd><div class="double-bounce1"></div> <div class="double-bounce2"></div></div> <!----> <!----></div></div> <div class="column sm-50 footer-nav"><div class="row justify-right"><div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--1 not-black"><h2 class="meta-text title not-black">我的小窝</h2> <nav class="footer-nav1"><ul><li class="footer-nav1__item"><a href="javascript:;" class="not-black">文章分类</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">摄影相册</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">乐谱空间</a> <!----></li><!----><li class="footer-nav1__item"><a href="javascript:;" class="not-black">旅行简记</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">关于我们</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">联系我们</a> <!----></li></ul></nav></div> <div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--2"><h2 class="meta-text title not-black">社区</h2> <nav class="footer-nav2"><ul><li class="footer-nav2__item"><!----> <a href="https://jq.qq.com/?_wv=1027&amp;k=5sOoWzp" rel="noopener nofollow" target="_blank" class="not-black">Q群 931024509</a></li><li class="footer-nav2__item"><!----> <a href="https://nativescript-vue-examples.luzhaoyang.com/" rel="noopener nofollow" target="_blank" class="not-black">NSVue 示例</a></li><li class="footer-nav2__item"><!----> <a href="https://marketplace.visualstudio.com/items?itemName=nuochong.nativescript-vue-extend" rel="noopener nofollow" target="_blank" class="not-black">NSVue 扩展</a></li><li class="footer-nav2__item"><!----> <a href="https://vue-auto-complete.luzhaoyang.com/" rel="noopener nofollow" target="_blank" class="not-black">Vue Auto Complete</a></li></ul></nav></div></div></div> <div class="cpolumn sm-100 footer-copy"><p class="visitors-total" data-v-504ab208><span data-v-504ab208>累计访问</span> <span data-v-504ab208></span> <span data-v-504ab208>次</span></p> <p class="footer-copy-last">2018 - 2022 © NUOCHONG - 源于 
  <a href="https://github.com/" rel="noopener" target="_blank">
    GITHUB
  </a></p></div></div> <span class="shapes shapes--circle" style="left: 3%; top: -20%"></span> <span class="shapes shapes--primary shapes--color3" style="left: 30%; top: -15%"></span> <span class="shapes shapes--primary" style="left: 13%; top: -80%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle shapes--color4" style="left: 40%; top: 200px"></span> <span class="shapes shapes--primary" style="left: 15%; bottom: 10%; transform: rotate(75deg)"></span> <span class="shapes shapes--circle shapes--color3" style="right: 50%; top: 30%"></span> <span class="shapes shapes--primary" style="right: 20%; top: -100%"></span> <span class="shapes shapes--circle" style="right: 10%; top: -20%"></span> <span class="shapes shapes--color4" style="right: 35%; top: -20%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle" style="left: 40%; top: -50%"></span> <span class="shapes shapes--color3" style="right: 30%; top: 20%"></span> <span class="shapes shapes--circle shapes--primary" style="right: 30%; bottom: 20%"></span></section> <div class="watermark-logo"></div> <canvas width="auto" height="auto" style="position: absolute; left: 0px; bottom: 0px;"></canvas></footer></div> <!----> <!----></div><div class="global-ui"><div><!----> <!----></div><!----></div></div>
    <script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/app.a6c0d750.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/33.00e40d8b.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/4.41ce3471.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/32.4d868c5b.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/30.5d0ca4a7.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/35.8e51f178.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/0.1204e969.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/3.8c6464f3.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/20.7cc411da.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/2.d2e7bb9e.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/8.cfc1cb07.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/248.2ccac737.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/5.be3f51a2.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/6.e5dfaf12.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/1.6f5c2e17.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/14.3e902950.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/34.bd733e52.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/31.2a689b8c.js" defer></script><script src="https://cdn.jsdelivr.net/gh/nuochong/e@1.0/assets/js/37.9aa851d5.js" defer></script>
  </body>
</html>
