<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>45 个 Git 经典操作场景 | 小窝</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#fff">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1575342_kyqje1qgas8.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/baguettebox.js@1.11.0/dist/baguetteBox.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@4.5.1/dist/css/swiper.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mapbox-gl@1.7.0/dist/mapbox-gl.css" type="text/css">
    <link rel="stylesheet" href="https://www.zhangxinxu.com/study/201903/css-idea/cssgram.min.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@4.5.1/dist/js/swiper.min.js"></script>
    <script src="https://static.runoob.com/assets/qrcode/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/shakee93/vue-toasted@v1.1.27/dist/vue-toasted.min.js"></script>
    <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
    <script src="https://cdn.bootcss.com/velocity/2.0.5/velocity.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/locale/zh-cn.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mapbox-gl@1.7.0/dist/mapbox-gl.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mapbox/mapbox-gl-language@0.10.1/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/console-badge@1.3.0/dist/console-badge.umd.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exifreader@3.12.2/dist/exif-reader.min.js"></script>
    <link rel="alternate" type="application/rss+xml" href="https://luzhaoyang.com/rss.xml" title=" RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://luzhaoyang.com/feed.atom" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://luzhaoyang.com/feed.json" title=" JSON Feed">
    <meta name="description" content="博客">
    <meta property="article:published_time" content="2022-02-27T14:01:00.000Z">
    <meta property="article:modified_time" content="2022-02-27T14:01:00.000Z">
    <meta property="og:title" content="45 个 Git 经典操作场景">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://luzhaoyang.com/zh/posts/45-ge-git-jing-dian-cao-zuo-chang-jing.html">
    <meta property="og:image" content="https://luzhaoyang.com/social/image-social-share-zh.png">
    <meta name="twitter:title" content="45 个 Git 经典操作场景">
    <meta name="twitter:url" content="https://luzhaoyang.com/zh/posts/45-ge-git-jing-dian-cao-zuo-chang-jing.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://luzhaoyang.com/social/image-social-share-zh.png">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="前端开发">
    <meta property="article:tag" content="前端开发">
    <meta name="theme-color" content="#fff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/favicon/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="preload" href="/assets/css/styles.f8899194.css" as="style"><link rel="preload" href="/assets/js/app.f8899194.js" as="script"><link rel="preload" href="/assets/css/33.styles.b4e8db64.css" as="style"><link rel="preload" href="/assets/js/33.b4e8db64.js" as="script"><link rel="preload" href="/assets/css/4.styles.b393ba72.css" as="style"><link rel="preload" href="/assets/js/4.b393ba72.js" as="script"><link rel="preload" href="/assets/css/32.styles.0b0e8ea2.css" as="style"><link rel="preload" href="/assets/js/32.0b0e8ea2.js" as="script"><link rel="preload" href="/assets/css/30.styles.e4499e91.css" as="style"><link rel="preload" href="/assets/js/30.e4499e91.js" as="script"><link rel="preload" href="/assets/css/35.styles.c604304c.css" as="style"><link rel="preload" href="/assets/js/35.c604304c.js" as="script"><link rel="preload" href="/assets/css/0.styles.f10aff81.css" as="style"><link rel="preload" href="/assets/js/0.f10aff81.js" as="script"><link rel="preload" href="/assets/js/3.7bd33329.js" as="script"><link rel="preload" href="/assets/css/20.styles.a062c0db.css" as="style"><link rel="preload" href="/assets/js/20.a062c0db.js" as="script"><link rel="preload" href="/assets/css/2.styles.56369e87.css" as="style"><link rel="preload" href="/assets/js/2.56369e87.js" as="script"><link rel="preload" href="/assets/css/8.styles.d46bb1cd.css" as="style"><link rel="preload" href="/assets/js/8.d46bb1cd.js" as="script"><link rel="preload" href="/assets/js/111.8ff1d6a9.js" as="script"><link rel="preload" href="/assets/css/5.styles.3a69964e.css" as="style"><link rel="preload" href="/assets/js/5.3a69964e.js" as="script"><link rel="preload" href="/assets/css/6.styles.c512a2b7.css" as="style"><link rel="preload" href="/assets/js/6.c512a2b7.js" as="script"><link rel="preload" href="/assets/css/1.styles.32a72fa6.css" as="style"><link rel="preload" href="/assets/js/1.32a72fa6.js" as="script"><link rel="preload" href="/assets/css/14.styles.d1711691.css" as="style"><link rel="preload" href="/assets/js/14.d1711691.js" as="script"><link rel="preload" href="/assets/css/34.styles.6a64adb2.css" as="style"><link rel="preload" href="/assets/js/34.6a64adb2.js" as="script"><link rel="preload" href="/assets/css/31.styles.5cceee28.css" as="style"><link rel="preload" href="/assets/js/31.5cceee28.js" as="script"><link rel="preload" href="/assets/css/37.styles.e65227f9.css" as="style"><link rel="preload" href="/assets/js/37.e65227f9.js" as="script"><link rel="prefetch" href="/assets/css/12.styles.05c2375c.css"><link rel="prefetch" href="/assets/css/13.styles.a9c56131.css"><link rel="prefetch" href="/assets/css/15.styles.4760e373.css"><link rel="prefetch" href="/assets/css/16.styles.ade10ec1.css"><link rel="prefetch" href="/assets/css/17.styles.b0980db0.css"><link rel="prefetch" href="/assets/css/21.styles.64aa4119.css"><link rel="prefetch" href="/assets/css/22.styles.838c1707.css"><link rel="prefetch" href="/assets/css/23.styles.18451972.css"><link rel="prefetch" href="/assets/css/24.styles.d351a2b8.css"><link rel="prefetch" href="/assets/css/25.styles.4799abcd.css"><link rel="prefetch" href="/assets/css/26.styles.a8770358.css"><link rel="prefetch" href="/assets/css/27.styles.30d8b491.css"><link rel="prefetch" href="/assets/css/28.styles.1863f41f.css"><link rel="prefetch" href="/assets/css/29.styles.92afe155.css"><link rel="prefetch" href="/assets/css/36.styles.fe10df5d.css"><link rel="prefetch" href="/assets/css/7.styles.acd18578.css"><link rel="prefetch" href="/assets/js/100.bc3a62f1.js"><link rel="prefetch" href="/assets/js/101.001cb631.js"><link rel="prefetch" href="/assets/js/102.8557b467.js"><link rel="prefetch" href="/assets/js/103.3c18fd7a.js"><link rel="prefetch" href="/assets/js/104.c43b30ac.js"><link rel="prefetch" href="/assets/js/105.7f6eb041.js"><link rel="prefetch" href="/assets/js/106.9acb5237.js"><link rel="prefetch" href="/assets/js/107.35e14567.js"><link rel="prefetch" href="/assets/js/108.d32d47e7.js"><link rel="prefetch" href="/assets/js/109.6fe9fcf9.js"><link rel="prefetch" href="/assets/js/110.fb34bec0.js"><link rel="prefetch" href="/assets/js/112.a9fc2f11.js"><link rel="prefetch" href="/assets/js/113.5406642b.js"><link rel="prefetch" href="/assets/js/114.ede000c7.js"><link rel="prefetch" href="/assets/js/115.896fd922.js"><link rel="prefetch" href="/assets/js/116.e799516e.js"><link rel="prefetch" href="/assets/js/117.17eb98e4.js"><link rel="prefetch" href="/assets/js/118.fe9708dd.js"><link rel="prefetch" href="/assets/js/119.c21f76f6.js"><link rel="prefetch" href="/assets/js/12.05c2375c.js"><link rel="prefetch" href="/assets/js/120.ddc50436.js"><link rel="prefetch" href="/assets/js/121.79f6c075.js"><link rel="prefetch" href="/assets/js/122.86749bc8.js"><link rel="prefetch" href="/assets/js/123.22769d59.js"><link rel="prefetch" href="/assets/js/124.53127dc1.js"><link rel="prefetch" href="/assets/js/125.6ae5d79a.js"><link rel="prefetch" href="/assets/js/126.86a50e01.js"><link rel="prefetch" href="/assets/js/127.73156ea9.js"><link rel="prefetch" href="/assets/js/128.b3882ce7.js"><link rel="prefetch" href="/assets/js/129.0ab9ba32.js"><link rel="prefetch" href="/assets/js/13.a9c56131.js"><link rel="prefetch" href="/assets/js/130.74383493.js"><link rel="prefetch" href="/assets/js/131.00747c9b.js"><link rel="prefetch" href="/assets/js/132.878e885b.js"><link rel="prefetch" href="/assets/js/133.df7b83a5.js"><link rel="prefetch" href="/assets/js/134.9c1b4d95.js"><link rel="prefetch" href="/assets/js/135.b625a1b3.js"><link rel="prefetch" href="/assets/js/136.28213238.js"><link rel="prefetch" href="/assets/js/137.31fdadb5.js"><link rel="prefetch" href="/assets/js/138.f3e914ef.js"><link rel="prefetch" href="/assets/js/139.56b71b36.js"><link rel="prefetch" href="/assets/js/140.b00c2d6b.js"><link rel="prefetch" href="/assets/js/141.cae44da1.js"><link rel="prefetch" href="/assets/js/142.79e30cc0.js"><link rel="prefetch" href="/assets/js/143.5c09f466.js"><link rel="prefetch" href="/assets/js/144.79005082.js"><link rel="prefetch" href="/assets/js/145.876fa12e.js"><link rel="prefetch" href="/assets/js/146.2e4c8706.js"><link rel="prefetch" href="/assets/js/147.27239bc8.js"><link rel="prefetch" href="/assets/js/148.7cf71c52.js"><link rel="prefetch" href="/assets/js/149.d504c9b1.js"><link rel="prefetch" href="/assets/js/15.4760e373.js"><link rel="prefetch" href="/assets/js/150.301f5e0b.js"><link rel="prefetch" href="/assets/js/151.3887f913.js"><link rel="prefetch" href="/assets/js/152.bfbd6cef.js"><link rel="prefetch" href="/assets/js/153.3ac6b503.js"><link rel="prefetch" href="/assets/js/154.7f14a33a.js"><link rel="prefetch" href="/assets/js/155.f7db574e.js"><link rel="prefetch" href="/assets/js/156.6c19af94.js"><link rel="prefetch" href="/assets/js/157.f75cbb9d.js"><link rel="prefetch" href="/assets/js/158.0d3751a8.js"><link rel="prefetch" href="/assets/js/159.be3e0b34.js"><link rel="prefetch" href="/assets/js/16.ade10ec1.js"><link rel="prefetch" href="/assets/js/160.b343d764.js"><link rel="prefetch" href="/assets/js/161.d68fb339.js"><link rel="prefetch" href="/assets/js/162.4325b44b.js"><link rel="prefetch" href="/assets/js/163.0aa89e25.js"><link rel="prefetch" href="/assets/js/164.e3374499.js"><link rel="prefetch" href="/assets/js/165.bc9eb5fe.js"><link rel="prefetch" href="/assets/js/166.1b8364ff.js"><link rel="prefetch" href="/assets/js/167.62d53b9b.js"><link rel="prefetch" href="/assets/js/168.633bcece.js"><link rel="prefetch" href="/assets/js/169.83f1d743.js"><link rel="prefetch" href="/assets/js/17.b0980db0.js"><link rel="prefetch" href="/assets/js/170.f0d046ef.js"><link rel="prefetch" href="/assets/js/171.a82a5475.js"><link rel="prefetch" href="/assets/js/172.9da812ed.js"><link rel="prefetch" href="/assets/js/173.a7b9049f.js"><link rel="prefetch" href="/assets/js/174.71970fdc.js"><link rel="prefetch" href="/assets/js/175.3861c5f2.js"><link rel="prefetch" href="/assets/js/176.5b25e21e.js"><link rel="prefetch" href="/assets/js/177.38740050.js"><link rel="prefetch" href="/assets/js/178.38b5e8d1.js"><link rel="prefetch" href="/assets/js/179.dec59899.js"><link rel="prefetch" href="/assets/js/18.c1d29d38.js"><link rel="prefetch" href="/assets/js/180.12691034.js"><link rel="prefetch" href="/assets/js/181.ed60aba6.js"><link rel="prefetch" href="/assets/js/182.985fb211.js"><link rel="prefetch" href="/assets/js/183.33e0b616.js"><link rel="prefetch" href="/assets/js/184.221f158c.js"><link rel="prefetch" href="/assets/js/185.ebb716ea.js"><link rel="prefetch" href="/assets/js/186.82d5466f.js"><link rel="prefetch" href="/assets/js/187.690105bf.js"><link rel="prefetch" href="/assets/js/188.e8e192c0.js"><link rel="prefetch" href="/assets/js/189.be886f4a.js"><link rel="prefetch" href="/assets/js/19.28439afb.js"><link rel="prefetch" href="/assets/js/190.fc590189.js"><link rel="prefetch" href="/assets/js/191.50e24178.js"><link rel="prefetch" href="/assets/js/192.93f7bdb0.js"><link rel="prefetch" href="/assets/js/193.3ce1cbed.js"><link rel="prefetch" href="/assets/js/194.99513444.js"><link rel="prefetch" href="/assets/js/195.ff0eccba.js"><link rel="prefetch" href="/assets/js/196.f14f6e97.js"><link rel="prefetch" href="/assets/js/197.ce4c4cfa.js"><link rel="prefetch" href="/assets/js/198.b05444a1.js"><link rel="prefetch" href="/assets/js/199.695bf536.js"><link rel="prefetch" href="/assets/js/200.cad705e1.js"><link rel="prefetch" href="/assets/js/201.525fa682.js"><link rel="prefetch" href="/assets/js/202.39254bb9.js"><link rel="prefetch" href="/assets/js/203.681a4ae4.js"><link rel="prefetch" href="/assets/js/204.f71a0853.js"><link rel="prefetch" href="/assets/js/205.35f910cb.js"><link rel="prefetch" href="/assets/js/206.934d476b.js"><link rel="prefetch" href="/assets/js/207.4264a497.js"><link rel="prefetch" href="/assets/js/208.875279fe.js"><link rel="prefetch" href="/assets/js/209.ad7d5786.js"><link rel="prefetch" href="/assets/js/21.64aa4119.js"><link rel="prefetch" href="/assets/js/210.b1684d45.js"><link rel="prefetch" href="/assets/js/211.f458050e.js"><link rel="prefetch" href="/assets/js/212.941e857a.js"><link rel="prefetch" href="/assets/js/213.12f2253a.js"><link rel="prefetch" href="/assets/js/214.32a43398.js"><link rel="prefetch" href="/assets/js/215.bd3ddcf8.js"><link rel="prefetch" href="/assets/js/216.4a0ecd26.js"><link rel="prefetch" href="/assets/js/217.7f4ec6c6.js"><link rel="prefetch" href="/assets/js/218.4188e84a.js"><link rel="prefetch" href="/assets/js/219.86e04f1a.js"><link rel="prefetch" href="/assets/js/22.838c1707.js"><link rel="prefetch" href="/assets/js/220.0c51ab42.js"><link rel="prefetch" href="/assets/js/221.8a10742e.js"><link rel="prefetch" href="/assets/js/222.da53ff4d.js"><link rel="prefetch" href="/assets/js/223.baf32ca2.js"><link rel="prefetch" href="/assets/js/224.fa4ea19e.js"><link rel="prefetch" href="/assets/js/225.08aaa56b.js"><link rel="prefetch" href="/assets/js/226.eb44fc1f.js"><link rel="prefetch" href="/assets/js/227.d780ead7.js"><link rel="prefetch" href="/assets/js/228.b0005ac1.js"><link rel="prefetch" href="/assets/js/229.186be242.js"><link rel="prefetch" href="/assets/js/23.18451972.js"><link rel="prefetch" href="/assets/js/230.89adfb60.js"><link rel="prefetch" href="/assets/js/231.3bf2b693.js"><link rel="prefetch" href="/assets/js/232.ff960dfb.js"><link rel="prefetch" href="/assets/js/233.08fce7ec.js"><link rel="prefetch" href="/assets/js/234.aeb24ad2.js"><link rel="prefetch" href="/assets/js/235.f3df6682.js"><link rel="prefetch" href="/assets/js/236.fbcd910a.js"><link rel="prefetch" href="/assets/js/237.22531ad3.js"><link rel="prefetch" href="/assets/js/238.3ec428e1.js"><link rel="prefetch" href="/assets/js/239.9e60375a.js"><link rel="prefetch" href="/assets/js/24.d351a2b8.js"><link rel="prefetch" href="/assets/js/240.5974e710.js"><link rel="prefetch" href="/assets/js/241.31bb071c.js"><link rel="prefetch" href="/assets/js/242.26a465a2.js"><link rel="prefetch" href="/assets/js/243.4fdaf786.js"><link rel="prefetch" href="/assets/js/244.6d643c0e.js"><link rel="prefetch" href="/assets/js/245.355d4edb.js"><link rel="prefetch" href="/assets/js/246.a69a1c4f.js"><link rel="prefetch" href="/assets/js/247.8d1e338e.js"><link rel="prefetch" href="/assets/js/248.55f214f8.js"><link rel="prefetch" href="/assets/js/249.e8fd44ca.js"><link rel="prefetch" href="/assets/js/25.4799abcd.js"><link rel="prefetch" href="/assets/js/250.191ff892.js"><link rel="prefetch" href="/assets/js/251.3ddfd1f7.js"><link rel="prefetch" href="/assets/js/252.2e70fbaa.js"><link rel="prefetch" href="/assets/js/253.9b1e9ef8.js"><link rel="prefetch" href="/assets/js/254.e0ee1474.js"><link rel="prefetch" href="/assets/js/255.5e429f88.js"><link rel="prefetch" href="/assets/js/256.f732f46c.js"><link rel="prefetch" href="/assets/js/257.05046bca.js"><link rel="prefetch" href="/assets/js/258.4db0c379.js"><link rel="prefetch" href="/assets/js/259.08eddb10.js"><link rel="prefetch" href="/assets/js/26.a8770358.js"><link rel="prefetch" href="/assets/js/260.bf1850c4.js"><link rel="prefetch" href="/assets/js/261.840b87d1.js"><link rel="prefetch" href="/assets/js/262.3b2ef94d.js"><link rel="prefetch" href="/assets/js/263.6e78ca96.js"><link rel="prefetch" href="/assets/js/264.0750dd75.js"><link rel="prefetch" href="/assets/js/265.c73fd027.js"><link rel="prefetch" href="/assets/js/266.08746260.js"><link rel="prefetch" href="/assets/js/267.6899fb16.js"><link rel="prefetch" href="/assets/js/268.b24c64c9.js"><link rel="prefetch" href="/assets/js/269.b18afc1e.js"><link rel="prefetch" href="/assets/js/27.30d8b491.js"><link rel="prefetch" href="/assets/js/270.42f24095.js"><link rel="prefetch" href="/assets/js/271.bdd8435d.js"><link rel="prefetch" href="/assets/js/272.e80714b6.js"><link rel="prefetch" href="/assets/js/273.72f49a2f.js"><link rel="prefetch" href="/assets/js/274.0c9f8a84.js"><link rel="prefetch" href="/assets/js/275.fae9642c.js"><link rel="prefetch" href="/assets/js/276.0a3f7814.js"><link rel="prefetch" href="/assets/js/277.a82c3259.js"><link rel="prefetch" href="/assets/js/278.7f1bf1d1.js"><link rel="prefetch" href="/assets/js/279.a0161515.js"><link rel="prefetch" href="/assets/js/28.1863f41f.js"><link rel="prefetch" href="/assets/js/280.723a9db6.js"><link rel="prefetch" href="/assets/js/281.5ce3f36e.js"><link rel="prefetch" href="/assets/js/282.9a72178b.js"><link rel="prefetch" href="/assets/js/283.aabe9912.js"><link rel="prefetch" href="/assets/js/284.d53ecf9d.js"><link rel="prefetch" href="/assets/js/285.63ea00c0.js"><link rel="prefetch" href="/assets/js/286.1dbe0477.js"><link rel="prefetch" href="/assets/js/287.9d855a58.js"><link rel="prefetch" href="/assets/js/288.4387d1fe.js"><link rel="prefetch" href="/assets/js/289.917ec0e2.js"><link rel="prefetch" href="/assets/js/29.92afe155.js"><link rel="prefetch" href="/assets/js/290.3e99f687.js"><link rel="prefetch" href="/assets/js/291.c6c6981c.js"><link rel="prefetch" href="/assets/js/292.29ae4852.js"><link rel="prefetch" href="/assets/js/293.1393306f.js"><link rel="prefetch" href="/assets/js/294.7b3eb502.js"><link rel="prefetch" href="/assets/js/295.c3cbc36f.js"><link rel="prefetch" href="/assets/js/296.4a77529e.js"><link rel="prefetch" href="/assets/js/297.ceb413f7.js"><link rel="prefetch" href="/assets/js/298.00eaa6c2.js"><link rel="prefetch" href="/assets/js/36.fe10df5d.js"><link rel="prefetch" href="/assets/js/38.84b35432.js"><link rel="prefetch" href="/assets/js/39.ac3675a6.js"><link rel="prefetch" href="/assets/js/40.25286379.js"><link rel="prefetch" href="/assets/js/41.25a0a7a6.js"><link rel="prefetch" href="/assets/js/42.c116db3d.js"><link rel="prefetch" href="/assets/js/43.f5850dd1.js"><link rel="prefetch" href="/assets/js/44.0aa814e2.js"><link rel="prefetch" href="/assets/js/45.eeabba5d.js"><link rel="prefetch" href="/assets/js/46.1043566d.js"><link rel="prefetch" href="/assets/js/47.aa347c39.js"><link rel="prefetch" href="/assets/js/48.f70c4779.js"><link rel="prefetch" href="/assets/js/49.04be0abe.js"><link rel="prefetch" href="/assets/js/50.28ff96cf.js"><link rel="prefetch" href="/assets/js/51.e189b171.js"><link rel="prefetch" href="/assets/js/52.f489579a.js"><link rel="prefetch" href="/assets/js/53.1de7fc3a.js"><link rel="prefetch" href="/assets/js/54.ecae911d.js"><link rel="prefetch" href="/assets/js/55.3679db46.js"><link rel="prefetch" href="/assets/js/56.99ab35a3.js"><link rel="prefetch" href="/assets/js/57.9aec7811.js"><link rel="prefetch" href="/assets/js/58.0f10c29b.js"><link rel="prefetch" href="/assets/js/59.bc3fa071.js"><link rel="prefetch" href="/assets/js/60.9b95277c.js"><link rel="prefetch" href="/assets/js/61.3cbf7434.js"><link rel="prefetch" href="/assets/js/62.38cceb0d.js"><link rel="prefetch" href="/assets/js/63.5235dd11.js"><link rel="prefetch" href="/assets/js/64.02701646.js"><link rel="prefetch" href="/assets/js/65.1ae37a38.js"><link rel="prefetch" href="/assets/js/66.5cfe778f.js"><link rel="prefetch" href="/assets/js/67.8e5587d1.js"><link rel="prefetch" href="/assets/js/68.10a82eb8.js"><link rel="prefetch" href="/assets/js/69.bec89150.js"><link rel="prefetch" href="/assets/js/7.acd18578.js"><link rel="prefetch" href="/assets/js/70.e2bc1a3b.js"><link rel="prefetch" href="/assets/js/71.98f62ea7.js"><link rel="prefetch" href="/assets/js/72.d880c8ca.js"><link rel="prefetch" href="/assets/js/73.9ea0d440.js"><link rel="prefetch" href="/assets/js/74.cc697ae2.js"><link rel="prefetch" href="/assets/js/75.0c6911e6.js"><link rel="prefetch" href="/assets/js/76.41b422d3.js"><link rel="prefetch" href="/assets/js/77.e09b4e35.js"><link rel="prefetch" href="/assets/js/78.a8188f36.js"><link rel="prefetch" href="/assets/js/79.96f96310.js"><link rel="prefetch" href="/assets/js/80.7b4cb93c.js"><link rel="prefetch" href="/assets/js/81.e8489047.js"><link rel="prefetch" href="/assets/js/82.8de999de.js"><link rel="prefetch" href="/assets/js/83.479880ce.js"><link rel="prefetch" href="/assets/js/84.b753ad05.js"><link rel="prefetch" href="/assets/js/85.0dff6ead.js"><link rel="prefetch" href="/assets/js/86.4171f3ff.js"><link rel="prefetch" href="/assets/js/87.dac69cd0.js"><link rel="prefetch" href="/assets/js/88.633255e5.js"><link rel="prefetch" href="/assets/js/89.7ccfb75b.js"><link rel="prefetch" href="/assets/js/9.db52ae69.js"><link rel="prefetch" href="/assets/js/90.e1a95654.js"><link rel="prefetch" href="/assets/js/91.5246ba1d.js"><link rel="prefetch" href="/assets/js/92.60904998.js"><link rel="prefetch" href="/assets/js/93.5b6b9dc0.js"><link rel="prefetch" href="/assets/js/94.129cf10a.js"><link rel="prefetch" href="/assets/js/95.7ee1a82e.js"><link rel="prefetch" href="/assets/js/96.d3e1a746.js"><link rel="prefetch" href="/assets/js/97.1e876ecb.js"><link rel="prefetch" href="/assets/js/98.7bc6e1df.js"><link rel="prefetch" href="/assets/js/99.abb95360.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.22681bb5.js">
    <link rel="stylesheet" href="/assets/css/styles.f8899194.css"><link rel="stylesheet" href="/assets/css/33.styles.b4e8db64.css"><link rel="stylesheet" href="/assets/css/4.styles.b393ba72.css"><link rel="stylesheet" href="/assets/css/32.styles.0b0e8ea2.css"><link rel="stylesheet" href="/assets/css/30.styles.e4499e91.css"><link rel="stylesheet" href="/assets/css/35.styles.c604304c.css"><link rel="stylesheet" href="/assets/css/0.styles.f10aff81.css"><link rel="stylesheet" href="/assets/css/20.styles.a062c0db.css"><link rel="stylesheet" href="/assets/css/2.styles.56369e87.css"><link rel="stylesheet" href="/assets/css/8.styles.d46bb1cd.css"><link rel="stylesheet" href="/assets/css/5.styles.3a69964e.css"><link rel="stylesheet" href="/assets/css/6.styles.c512a2b7.css"><link rel="stylesheet" href="/assets/css/1.styles.32a72fa6.css"><link rel="stylesheet" href="/assets/css/14.styles.d1711691.css"><link rel="stylesheet" href="/assets/css/34.styles.6a64adb2.css"><link rel="stylesheet" href="/assets/css/31.styles.5cceee28.css"><link rel="stylesheet" href="/assets/css/37.styles.e65227f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div itemscope="itemscope" itemtype="https://schema.org/WebPage" class="layout-main"><meta itemprop="name" content=""> <meta itemprop="alternateName" content=""> <meta itemprop="url" content="https://luzhaoyang.com"> <nav aria-label="Navigation" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement" class="container nav-mobile not-black" style="display:none;"><span itemprop="headline" class="nav-mobile__title not-black">导航</span> <ul class="nav-mobile__list not-black"><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">文章分类</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">摄影相册</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">乐谱空间</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">我的留言</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">旅行简记</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">关于我们</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">联系我们</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">前端开发</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">后端开发</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">其它记录</span></a></li><li class="nav-mobile__item not-black"><a itemprop="url" href="javascript:;" class="nav-mobile__link not-black"><span class="bullet no_bw bullet--primary bullet--normal"></span> <span class="text not-black">旅行生活</span></a></li></ul></nav> <div class="container-fluid-outside wrapper-body__nm"><header itemscope="itemscope" itemtype="https://schema.org/Organization" class="header"><!----> <div class="row header-top"><div class="column xs-33 sm-20"><div class="hamburguer header-top__hamburguer"><div class="hamburguer__wrapper"><span class="hamburguer__line"></span> <span class="hamburguer__line"></span> <span class="hamburguer__line"></span></div></div> <div class="languages header-top__languages"><div class="languages__box"><span class="languages__title meta-text">ZH</span> <span class="languages__icon"></span></div> <ul class="languages__list"><li class="languages__item"><a href="/" class="languages__link router-link-active">
        English
      </a></li><li class="languages__item"><a href="/zh/posts/45-ge-git-jing-dian-cao-zuo-chang-jing.html" aria-current="page" class="languages__link router-link-exact-active router-link-active">
        Chinese
      </a></li></ul></div></div> <div class="column xs-33 sm-60"><div class="header__logo"><a href="/zh/" itemprop="url" class="header-top-logo__link router-link-active"><img itemprop="logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAyCAMAAAD7sXLbAAABDlBMVEUAAAA0SV00SFw0SF40SV40SF40SF0wQGA1SF2u6eau1dQ0SF01RVq+0tbfcZSuxsqwx8qtwcYzSF6y5d4wSGDpdJis3dmwztE1SV40SF2ntMCz4980R16tzs/TbpGov8Wxu8PDa4qtwcQ0SV3GaYqnu8Go0tKxv8avZII1SF2+ztS6z9XzeZ41SV6p7ubwdprki6ep6+Sx392r5+Ku5OBafok9Vmk5SV/EwcnNscDbmbF5qq/ohqTmc5eKXHh0WHJoVG670NOT0M2Gvr5ok5vWb5LLbY7AaYq1Z4erZIRGY3NuVnBDTGKg49y219eV0s+PyceMxsXJt8JwnaPUh6Lse51iiJKhYoBNbHtcUWoRJ6B1AAAALXRSTlMAwECA7+C/EJ8N828wH/3f1KBfNSD+9PPPsEwb8O7e27iUk4+BgH5sZmBTMBV50rNAAAABnUlEQVRIx42U51rCMBSGYymljAICMsS9V1paCihDEBFUcO/7vxEreTBtZt+ffd4m3zknCZiT06JQrSggHKkyRGhKKF1Fdtg/otCPXpDoEUgQiQl9FZKoSYGuQAZRfhnHkIlWkMUXlyH3oZpj+UuQj5YS+zR6TOLTvaV8CWVF4MtDyXXcKbmPOyXz6fFJ/O9R4544UwK/eW16PHQaTfxtV+B7OsJ+fvvfRuf6DdPP02IbhfJnk974awCHJoH9MvJ+qZB+68b6491kMex8xgn/0ppzYXLIE34a+U5If4D0msmDyHMniVMM1tvqIf+R5x8E/SnSuzw9QcxLEqdYRT6OI+pOfZl8baei7iQM6j7eIv+VszjpzyyES+vrBsA+cRbalO3s0+8DPgtXpL4ZByy/z67WPQQB9IU/Qf55UM/GOe/zD2u2iVXuez6ml3d3AE2STo+jMFDwPcTNwVEoCv7Rtql50kTxqD4cZNvZKuCSRNcQF2tnToGA2Fp/xZ8mYwAxRxaiVvfs0gmQsjdfv+t6SfIgDGfbG+maU9oy5Oov1sAUptGGixIAAAAASUVORK5CYII=" srcset="/logo/ktquez-play-logo.png 1x, /logo/ktquez-play-logo@2x.png 2x" alt="小窝"></a></div> <meta itemprop="name" content=""> </div> <div class="column xs-33 sm-20"><div class="search header-top__search"><!----> <span class="icon search__icon icon-search"></span></div> <div class="switch-bw header-top__toggle"><span class="switch-bw__text">
    开启夜间模式
  </span> <label for="switch-bw" class="switch-bw__label"><input type="checkbox" id="switch-bw" name="switch-bw" aria-labelledby="switch-bw-text" class="switch-bw__input"> <span class="switch-bw__ball"></span> <span id="switch-bw-text" hidden="hidden">switch to black or white</span></label></div></div></div></header> <div class="container-fluid"><main id="main" itemscope="itemscope" itemtype="https://schema.org/Blog" class="main-page"><div><a href="#main" class="vue-skip-to">跳到主要内容</a> <div><div class="page page__full row justify-right"><article itemscope="itemscope" itemprop="blogPost" itemtype="https://schema.org/BlogPosting" class="column xs-100 page__full__box box-default"><meta itemprop="mainEntityOfPage" content="/zh/posts/45-ge-git-jing-dian-cao-zuo-chang-jing.html"> <header class="page-header page__full-header"><button type="button" class="ui-button reset-button back-button"><span class="icon back-button__icon icon--arrow icon-arrow"></span> <span class="back-button__text">返回</span></button> <div class="page-header__meta"><time datetime="Sun Feb 27 2022 22:01:00 GMT+0800 (GMT+08:00)" itemprop="datePublished" class="text">
            </time> <meta itemprop="dateModified" content="currentPost.updated_at"> <!----></div> <h1 itemprop="name headline" class="page-header__title">45 个 Git 经典操作场景</h1> <div class="page-header-cat"><nav class="page-header-cat__nav"><ul class="page-header-cat__list"><li class="page-header-cat__item"><a href="/zh/categories/frontend.html" itemprop="keywords" class="page-header-cat__link meta-text">
                  前端开发
                </a></li></ul></nav></div> <!----> <div itemprop="author" itemscope="itemscope" itemtype="https://schema.org/Person" class="page-header__author"><strong>作者: </strong> <a href="/zh/authors/nuochong.html" rel="author" itemprop="url" class="link link--filler-s-primary"><span itemprop="name" class="not-black">诺冲</span></a></div></header> <div itemprop="image" itemscope="itemscope" itemtype="https://schema.org/ImageObject" class="post-cover"><div class="background-container post-cover__image cover" data-v-2d811ff3></div></div> <!----> <section class="page-content page__full-content"><div class="row"><div class="column no-pad-l sm-50 post-share"><div class="observer" data-v-541be3fd><!----> <!----> <!----></div></div> <!----></div> <div class="row"><div class="column no-pad-l md-75 xl-67 post-content"><div class="post-content__box-player"><!----></div> <div class="post-content__excerpt"><!----></div> <div class="post-content__table-contents"><div class="table-contents"><h3 id="table-of-content" class="table-contents__title">目录</h3> <nav><ol class="table-contents__list"><li class="table-contents__item"><a href="#我刚才提交了什么" title="我刚才提交了什么?" class="table-contents__link"><span>我刚才提交了什么?</span></a></li><li class="table-contents__item"><a href="#我的提交信息-commit-message-写错了" title="我的提交信息(commit message)写错了" class="table-contents__link"><span>我的提交信息(commit message)写错了</span></a></li><li class="table-contents__item"><a href="#我提交-commit-里的用户名和邮箱不对" title="我提交(commit)里的用户名和邮箱不对" class="table-contents__link"><span>我提交(commit)里的用户名和邮箱不对</span></a></li><li class="table-contents__item"><a href="#我想从一个提交-commit-里移除一个文件" title="我想从一个提交(commit)里移除一个文件" class="table-contents__link"><span>我想从一个提交(commit)里移除一个文件</span></a></li><li class="table-contents__item"><a href="#我想删除我的的最后一次提交-commit" title="我想删除我的的最后一次提交(commit)" class="table-contents__link"><span>我想删除我的的最后一次提交(commit)</span></a></li><li class="table-contents__item"><a href="#删除任意提交-commit" title="删除任意提交(commit)" class="table-contents__link"><span>删除任意提交(commit)</span></a></li><li class="table-contents__item"><a href="#我尝试推一个修正后的提交-amended-commit-到远程-但是报错" title="我尝试推一个修正后的提交(amended commit)到远程，但是报错：" class="table-contents__link"><span>我尝试推一个修正后的提交(amended commit)到远程，但是报错：</span></a></li><li class="table-contents__item"><a href="#我意外的做了一次硬重置-hard-reset-我想找回我的内容" title="我意外的做了一次硬重置(hard reset)，我想找回我的内容" class="table-contents__link"><span>我意外的做了一次硬重置(hard reset)，我想找回我的内容</span></a></li><li class="table-contents__item"><a href="#暂存-staging" title="暂存(Staging)" class="table-contents__link"><span>暂存(Staging)</span></a></li><!----><!----><!----><!----><li class="table-contents__item"><a href="#未暂存-unstaged-的内容" title="未暂存(Unstaged)的内容" class="table-contents__link"><span>未暂存(Unstaged)的内容</span></a></li><!----><!----><!----><!----><li class="table-contents__item"><a href="#分支-branches" title="分支(Branches)" class="table-contents__link"><span>分支(Branches)</span></a></li><!----><!----><!----><!----><!----><!----><!----><!----><!----><li class="table-contents__item"><a href="#rebasing-和合并-merging" title="Rebasing 和合并(Merging)" class="table-contents__link"><span>Rebasing 和合并(Merging)</span></a></li><!----><!----><!----><!----><!----><!----><!----><!----><!----><li class="table-contents__item"><a href="#stash" title="Stash" class="table-contents__link"><span>Stash</span></a></li><!----><!----><!----><!----><!----><li class="table-contents__item"><a href="#杂项-miscellaneous-objects" title="杂项(Miscellaneous Objects)" class="table-contents__link"><span>杂项(Miscellaneous Objects)</span></a></li><!----><!----><!----><!----><li class="table-contents__item"><a href="#跟踪文件-tracking-files" title="跟踪文件(Tracking Files)" class="table-contents__link"><span>跟踪文件(Tracking Files)</span></a></li><!----><!----><li class="table-contents__item"><a href="#配置-configuration" title="配置(Configuration)" class="table-contents__link"><span>配置(Configuration)</span></a></li><!----><!----><!----></ol></nav></div></div> <div itemprop="articleBody"><div class="content__default"><p>git 对于大家应该都不太陌生，熟练使用 git 已经成为程序员的一项基本技能，尽管在工作中有诸如 <code>Sourcetree</code> 这样牛 X 的客户端工具，使得合并代码变的很方便。但找工作面试和一些需彰显个人实力的场景，仍然需要我们掌握足够多的 git 命令。</p> <p>下边我们整理了 45 个日常用 git 合代码的经典操作场景，基本覆盖了工作中的需求。</p> <h2 id="我刚才提交了什么"><a href="#我刚才提交了什么" class="header-anchor">#</a> 我刚才提交了什么?</h2> <p>如果你用 <code>git commit -a</code> 提交了一次变化(changes)，而你又不确定到底这次提交了哪些内容。你就可以用下面的命令显示当前 <code>HEAD</code> 上的最近一次的提交(commit):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> show
</code></pre></div><p>或者</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> log -n1 -p
</code></pre></div><h2 id="我的提交信息-commit-message-写错了"><a href="#我的提交信息-commit-message-写错了" class="header-anchor">#</a> 我的提交信息(commit message)写错了</h2> <p>如果你的提交信息(commit message)写错了且这次提交(commit)还没有推(push), 你可以通过下面的方法来修改提交信息(commit message):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> commit --amend --only
</code></pre></div><p>这会打开你的默认编辑器, 在这里你可以编辑信息. 另一方面, 你也可以用一条命令一次完成:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> commit --amend --only -m <span class="token string">'xxxxxxx'</span>
</code></pre></div><p>如果你已经推(push)了这次提交(commit), 你可以修改这次提交(commit)然后强推(force push), 但是不推荐这么做。</p> <h2 id="我提交-commit-里的用户名和邮箱不对"><a href="#我提交-commit-里的用户名和邮箱不对" class="header-anchor">#</a> 我提交(commit)里的用户名和邮箱不对</h2> <p>如果这只是单个提交(commit)，修改它：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> commit --amend --author <span class="token string">&quot;New Authorname &lt;authoremail@mydomain.com&gt;&quot;</span>
</code></pre></div><p>如果你需要修改所有历史, 参考 'git filter-branch’的指南页.</p> <h2 id="我想从一个提交-commit-里移除一个文件"><a href="#我想从一个提交-commit-里移除一个文件" class="header-anchor">#</a> 我想从一个提交(commit)里移除一个文件</h2> <p>通过下面的方法，从一个提交(commit)里移除一个文件:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout HEAD^ myfile
$ <span class="token function">git</span> <span class="token function">add</span> -A
$ <span class="token function">git</span> commit --amend
</code></pre></div><p>这将非常有用，当你有一个开放的补丁(open patch)，你往上面提交了一个不必要的文件，你需要强推(force push)去更新这个远程补丁。</p> <h2 id="我想删除我的的最后一次提交-commit"><a href="#我想删除我的的最后一次提交-commit" class="header-anchor">#</a> 我想删除我的的最后一次提交(commit)</h2> <p>如果你需要删除推了的提交(pushed commits)，你可以使用下面的方法。可是，这会不可逆的改变你的历史，也会搞乱那些已经从该仓库拉取(pulled)了的人的历史。简而言之，如果你不是很确定，千万不要这么做。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> reset HEAD^ --hard
$ <span class="token function">git</span> push -f <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span>
</code></pre></div><p>如果你还没有推到远程, 把 Git 重置(reset)到你最后一次提交前的状态就可以了(同时保存暂存的变化):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch*<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --soft HEAD@<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>
</code></pre></div><p>这只能在没有推送之前有用. 如果你已经推了, 唯一安全能做的是 <code>git revert SHAofBadCommit</code>， 那会创建一个新的提交(commit)用于撤消前一个提交的所有变化(changes)；或者, 如果你推的这个分支是 rebase-safe 的 (例如：其它开发者不会从这个分支拉), 只需要使用 <code>git push -f</code>。</p> <h2 id="删除任意提交-commit"><a href="#删除任意提交-commit" class="header-anchor">#</a> 删除任意提交(commit)</h2> <p>同样的警告：不到万不得已的时候不要这么做.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> rebase --onto SHA1_OF_BAD_COMMIT^ SHA1_OF_BAD_COMMIT
$ <span class="token function">git</span> push -f <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>branch<span class="token punctuation">]</span>
</code></pre></div><p>或者做一个 交互式 rebase 删除那些你想要删除的提交(commit)里所对应的行。</p> <h2 id="我尝试推一个修正后的提交-amended-commit-到远程-但是报错"><a href="#我尝试推一个修正后的提交-amended-commit-到远程-但是报错" class="header-anchor">#</a> 我尝试推一个修正后的提交(amended commit)到远程，但是报错：</h2> <div class="language-sh extra-class"><pre class="language-sh"><code>To https://github.com/yourusername/repo.git
<span class="token operator">!</span> <span class="token punctuation">[</span>rejected<span class="token punctuation">]</span>        mybranch -<span class="token operator">&gt;</span> mybranch <span class="token punctuation">(</span>non-fast-forward<span class="token punctuation">)</span>
error: failed to push some refs to <span class="token string">'https://github.com/tanay1337/webmaker.org.git'</span>
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes <span class="token punctuation">(</span>e.g.
hint: <span class="token string">'git pull ...'</span><span class="token punctuation">)</span> before pushing again.
hint: See the <span class="token string">'Note about fast-forwards'</span> <span class="token keyword">in</span> <span class="token string">'git push --help'</span> <span class="token keyword">for</span> details.
</code></pre></div><p>注意, rebasing(见下面)和修正(amending)会用一个新的提交(commit)代替旧的, 所以如果之前你已经往远程仓库上推过一次修正前的提交(commit)，那你现在就必须强推(force push) (<code>-f</code>)。注意 – 总是 确保你指明一个分支!</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> push origin mybranch -f
</code></pre></div><p>一般来说, 要避免强推. 最好是创建和推(push)一个新的提交(commit)，而不是强推一个修正后的提交。后者会使那些与该分支或该分支的子分支工作的开发者，在源历史中产生冲突。</p> <h2 id="我意外的做了一次硬重置-hard-reset-我想找回我的内容"><a href="#我意外的做了一次硬重置-hard-reset-我想找回我的内容" class="header-anchor">#</a> 我意外的做了一次硬重置(hard reset)，我想找回我的内容</h2> <p>如果你意外的做了 <code>git reset --hard</code>, 你通常能找回你的提交(commit), 因为 Git 对每件事都会有日志，且都会保存几天。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reflog
</code></pre></div><p>你将会看到一个你过去提交(commit)的列表, 和一个重置的提交。选择你想要回到的提交(commit)的 SHA，再重置一次:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard SHA1234
</code></pre></div><p>这样就完成了。</p> <h2 id="暂存-staging"><a href="#暂存-staging" class="header-anchor">#</a> 暂存(Staging)</h2> <h3 id="我需要把暂存的内容添加到上一次的提交-commit"><a href="#我需要把暂存的内容添加到上一次的提交-commit" class="header-anchor">#</a> 我需要把暂存的内容添加到上一次的提交(commit)</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch*<span class="token punctuation">)</span>$ <span class="token function">git</span> commit --amend
</code></pre></div><h3 id="我想要暂存一个新文件的一部分-而不是这个文件的全部"><a href="#我想要暂存一个新文件的一部分-而不是这个文件的全部" class="header-anchor">#</a> 我想要暂存一个新文件的一部分，而不是这个文件的全部</h3> <p>一般来说, 如果你想暂存一个文件的一部分, 你可这样做:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">add</span> --patch filename.x
</code></pre></div><p><code>-p</code> 简写。这会打开交互模式， 你将能够用 <code>s</code> 选项来分隔提交(commit)；然而, 如果这个文件是新的, 会没有这个选择， 添加一个新文件时, 这样做:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">add</span> -N filename.x
</code></pre></div><p>然后, 你需要用 <code>e</code> 选项来手动选择需要添加的行，执行 <code>git diff --cached</code> 将会显示哪些行暂存了哪些行只是保存在本地了。</p> <h3 id="我想把在一个文件里的变化-changes-加到两个提交-commit-里"><a href="#我想把在一个文件里的变化-changes-加到两个提交-commit-里" class="header-anchor">#</a> 我想把在一个文件里的变化(changes)加到两个提交(commit)里</h3> <p><code>git add</code> 会把整个文件加入到一个提交. <code>git add -p</code> 允许交互式的选择你想要提交的部分.</p> <h3 id="我想把暂存的内容变成未暂存-把未暂存的内容暂存起来"><a href="#我想把暂存的内容变成未暂存-把未暂存的内容暂存起来" class="header-anchor">#</a> 我想把暂存的内容变成未暂存，把未暂存的内容暂存起来</h3> <p>多数情况下，你应该将所有的内容变为未暂存，然后再选择你想要的内容进行 commit。但假定你就是想要这么做，这里你可以创建一个临时的 commit 来保存你已暂存的内容，然后暂存你的未暂存的内容并进行 stash。然后 reset 最后一个 commit 将原本暂存的内容变为未暂存，最后 stash pop 回来。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> commit -m <span class="token string">&quot;WIP&quot;</span>
$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
$ <span class="token function">git</span> stash
$ <span class="token function">git</span> reset HEAD^
$ <span class="token function">git</span> stash pop --index <span class="token number">0</span>
</code></pre></div><p>注意 1: 这里使用 <code>pop</code> 仅仅是因为想尽可能保持幂等。注意 2: 假如你不加上 <code>--index</code> 你会把暂存的文件标记为为存储。</p> <h2 id="未暂存-unstaged-的内容"><a href="#未暂存-unstaged-的内容" class="header-anchor">#</a> 未暂存(Unstaged)的内容</h2> <h3 id="我想把未暂存的内容移动到一个新分支"><a href="#我想把未暂存的内容移动到一个新分支" class="header-anchor">#</a> 我想把未暂存的内容移动到一个新分支</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout -b my-branch
</code></pre></div><h3 id="我想把未暂存的内容移动到另一个已存在的分支"><a href="#我想把未暂存的内容移动到另一个已存在的分支" class="header-anchor">#</a> 我想把未暂存的内容移动到另一个已存在的分支</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash
$ <span class="token function">git</span> checkout my-branch
$ <span class="token function">git</span> stash pop
</code></pre></div><h3 id="我想丢弃本地未提交的变化-uncommitted-changes"><a href="#我想丢弃本地未提交的变化-uncommitted-changes" class="header-anchor">#</a> 我想丢弃本地未提交的变化(uncommitted changes)</h3> <p>如果你只是想重置源(origin)和你本地(local)之间的一些提交(commit)，你可以：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># one commit</span>
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard HEAD^
<span class="token comment"># two commits</span>
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard HEAD^^
<span class="token comment"># four commits</span>
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard HEAD~4
<span class="token comment"># or</span>
<span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout -f
</code></pre></div><p>重置某个特殊的文件, 你可以用文件名做为参数:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> reset filename
</code></pre></div><h3 id="我想丢弃某些未暂存的内容"><a href="#我想丢弃某些未暂存的内容" class="header-anchor">#</a> 我想丢弃某些未暂存的内容</h3> <p>如果你想丢弃工作拷贝中的一部分内容，而不是全部。</p> <p>签出(checkout)不需要的内容，保留需要的。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout -p
<span class="token comment"># Answer y to all of the snippets you want to drop</span>
</code></pre></div><p>另外一个方法是使用 <code>stash</code>， Stash 所有要保留下的内容, 重置工作拷贝, 重新应用保留的部分。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash -p
<span class="token comment"># Select all of the snippets you want to save</span>
$ <span class="token function">git</span> reset --hard
$ <span class="token function">git</span> stash pop
</code></pre></div><p>或者, stash 你不需要的部分, 然后 stash drop。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash -p
<span class="token comment"># Select all of the snippets you don't want to save</span>
$ <span class="token function">git</span> stash drop
</code></pre></div><h2 id="分支-branches"><a href="#分支-branches" class="header-anchor">#</a> 分支(Branches)</h2> <h3 id="我从错误的分支拉取了内容-或把内容拉取到了错误的分支"><a href="#我从错误的分支拉取了内容-或把内容拉取到了错误的分支" class="header-anchor">#</a> 我从错误的分支拉取了内容，或把内容拉取到了错误的分支</h3> <p>这是另外一种使用 <code>git reflog</code> 情况，找到在这次错误拉(pull) 之前 HEAD 的指向。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reflog
ab7555f HEAD@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>: pull origin wrong-branch: Fast-forward
c5bc55a HEAD@<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>: checkout: checkout message goes here
</code></pre></div><p>重置分支到你所需的提交(desired commit):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> reset --hard c5bc55a
</code></pre></div><p>完成。</p> <h3 id="我想扔掉本地的提交-commit-以便我的分支与远程的保持一致"><a href="#我想扔掉本地的提交-commit-以便我的分支与远程的保持一致" class="header-anchor">#</a> 我想扔掉本地的提交(commit)，以便我的分支与远程的保持一致</h3> <p>先确认你没有推(push)你的内容到远程。</p> <p><code>git status</code> 会显示你领先(ahead)源(origin)多少个提交:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> status
<span class="token comment"># On branch my-branch</span>
<span class="token comment"># Your branch is ahead of 'origin/my-branch' by 2 commits.</span>
<span class="token comment">#   (use &quot;git push&quot; to publish your local commits)</span>
<span class="token comment">#</span>
</code></pre></div><p>一种方法是:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard origin/my-branch
</code></pre></div><h3 id="我需要提交到一个新分支-但错误的提交到了-main"><a href="#我需要提交到一个新分支-但错误的提交到了-main" class="header-anchor">#</a> 我需要提交到一个新分支，但错误的提交到了 main</h3> <p>在 main 下创建一个新分支，不切换到新分支,仍在 main 下:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> branch my-branch
</code></pre></div><p>把 main 分支重置到前一个提交:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard HEAD^
</code></pre></div><p><code>HEAD^</code> 是 <code>HEAD^1</code> 的简写，你可以通过指定要设置的 <code>HEAD</code> 来进一步重置。</p> <p>或者, 如果你不想使用 <code>HEAD^</code>, 找到你想重置到的提交(commit)的 hash(<code>git log</code> 能够完成)， 然后重置到这个 hash。使用 <code>git push</code> 同步内容到远程。</p> <p>例如, main 分支想重置到的提交的 hash 为 <code>a13b85e</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard a13b85e
HEAD is now at a13b85e
</code></pre></div><p>签出(checkout)刚才新建的分支继续工作:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout my-branch
</code></pre></div><h3 id="我想保留来自另外一个-ref-ish-的整个文件"><a href="#我想保留来自另外一个-ref-ish-的整个文件" class="header-anchor">#</a> 我想保留来自另外一个 ref-ish 的整个文件</h3> <p>假设你正在做一个原型方案(原文为 working spike (see note)), 有成百的内容，每个都工作得很好。现在, 你提交到了一个分支，保存工作内容:</p> <p>(solution)$ git add -A &amp;&amp; git commit -m “Adding all changes from this spike into one big commit.”
当你想要把它放到一个分支里 (可能是 <code>feature</code>, 或者 <code>develop</code>), 你关心是保持整个文件的完整，你想要一个大的提交分隔成比较小。</p> <p>假设你有:</p> <ul><li>分支 <code>solution</code>, 拥有原型方案， 领先 <code>develop</code> 分支。</li> <li>分支 <code>develop</code>, 在这里你应用原型方案的一些内容。
我去可以通过把内容拿到你的分支里，来解决这个问题:</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>develop<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout solution -- file1.txt
</code></pre></div><p>这会把这个文件内容从分支 <code>solution</code> 拿到分支 <code>develop</code> 里来:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># On branch develop</span>
<span class="token comment"># Your branch is up-to-date with 'origin/develop'.</span>
<span class="token comment"># Changes to be committed:</span>
<span class="token comment">#  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="token comment">#</span>
<span class="token comment">#        modified:   file1.txt</span>
</code></pre></div><p>然后, 正常提交。</p> <p>Note: Spike solutions are made to analyze or solve the problem. These solutions are used for estimation and discarded once everyone gets clear visualization of the problem.</p> <h3 id="我把几个提交-commit-提交到了同一个分支-而这些提交应该分布在不同的分支里"><a href="#我把几个提交-commit-提交到了同一个分支-而这些提交应该分布在不同的分支里" class="header-anchor">#</a> 我把几个提交(commit)提交到了同一个分支，而这些提交应该分布在不同的分支里</h3> <p>假设你有一个 <code>main</code> 分支， 执行 <code>git log</code>, 你看到你做过两次提交:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> log
commit e3851e817c451cc36f2e6f3049db528415e3c114
Author: Alex Lee <span class="token operator">&lt;</span>alexlee@example.com<span class="token operator">&gt;</span>
Date:   Tue Jul <span class="token number">22</span> <span class="token number">15</span>:39:27 <span class="token number">2014</span> -0400
    Bug <span class="token comment">#21 - Added CSRF protection</span>
commit 5ea51731d150f7ddc4a365437931cd8be3bf3131
Author: Alex Lee <span class="token operator">&lt;</span>alexlee@example.com<span class="token operator">&gt;</span>
Date:   Tue Jul <span class="token number">22</span> <span class="token number">15</span>:39:12 <span class="token number">2014</span> -0400
    Bug <span class="token comment">#14 - Fixed spacing on title</span>
commit a13b85e984171c6e2a1729bb061994525f626d14
Author: Aki Rose <span class="token operator">&lt;</span>akirose@example.com<span class="token operator">&gt;</span>
Date:   Tue Jul <span class="token number">21</span> 01:12:48 <span class="token number">2014</span> -0400
    First commit
</code></pre></div><p>让我们用提交 hash(commit hash)标记 bug (<code>e3851e8</code> for #21, <code>5ea5173</code> for #14).</p> <p>首先, 我们把 <code>main</code> 分支重置到正确的提交(<code>a13b85e</code>):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard a13b85e
HEAD is now at a13b85e
</code></pre></div><p>现在, 我们对 bug #21 创建一个新的分支:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout -b <span class="token number">21</span>
<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>$
</code></pre></div><p>接着, 我们用 <code>cherry-pick</code> 把对 bug #21 的提交放入当前分支。这意味着我们将应用(apply)这个提交(commit)，仅仅这一个提交(commit)，直接在 HEAD 上面。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>$ <span class="token function">git</span> cherry-pick e3851e8
</code></pre></div><p>这时候, 这里可能会产生冲突， 参见交互式 rebasing 章 冲突节 解决冲突.</p> <p>再者， 我们为 bug #14 创建一个新的分支, 也基于 <code>main</code> 分支</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>$ <span class="token function">git</span> checkout main
<span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout -b <span class="token number">14</span>
<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>$
</code></pre></div><p>最后, 为 bug #14 执行 cherry-pick:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>$ <span class="token function">git</span> cherry-pick 5ea5173
</code></pre></div><h3 id="我想删除上游-upstream-分支被删除了的本地分支"><a href="#我想删除上游-upstream-分支被删除了的本地分支" class="header-anchor">#</a> 我想删除上游(upstream)分支被删除了的本地分支</h3> <p>一旦你在 github 上面合并(merge)了一个 pull request, 你就可以删除你 fork 里被合并的分支。如果你不准备继续在这个分支里工作, 删除这个分支的本地拷贝会更干净，使你不会陷入工作分支和一堆陈旧分支的混乱之中（IDEA 中玩转 Git）。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> fetch -p
</code></pre></div><h3 id="我不小心删除了我的分支"><a href="#我不小心删除了我的分支" class="header-anchor">#</a> 我不小心删除了我的分支</h3> <p>如果你定期推送到远程, 多数情况下应该是安全的，但有些时候还是可能删除了还没有推到远程的分支。让我们先创建一个分支和一个新的文件:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout -b my-branch
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> branch
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">touch</span> foo.txt
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">ls</span>
README.md foo.txt
</code></pre></div><p>添加文件并做一次提交</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> commit -m <span class="token string">'foo.txt added'</span>
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ foo.txt added
 <span class="token number">1</span> files changed, <span class="token number">1</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> foo.txt
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> log
commit 4e3cd85a670ced7cc17a2b5d8d3d809ac88d5012
Author: siemiatj <span class="token operator">&lt;</span>siemiatj@example.com<span class="token operator">&gt;</span>
Date:   Wed Jul <span class="token number">30</span> 00:34:10 <span class="token number">2014</span> +0200
    foo.txt added
commit 69204cdf0acbab201619d95ad8295928e7f411d5
Author: Kate Hudson <span class="token operator">&lt;</span>katehudson@example.com<span class="token operator">&gt;</span>
Date:   Tue Jul <span class="token number">29</span> <span class="token number">13</span>:14:46 <span class="token number">2014</span> -0400
    Fixes <span class="token comment">#6: Force pushing after amending commits</span>
</code></pre></div><p>现在我们切回到主(main)分支，‘不小心的’删除 <code>my-branch</code> 分支</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout main
Switched to branch <span class="token string">'main'</span>
Your branch is up-to-date with <span class="token string">'origin/main'</span><span class="token builtin class-name">.</span>
<span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> branch -D my-branch
Deleted branch my-branch <span class="token punctuation">(</span>was 4e3cd85<span class="token punctuation">)</span>.
<span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token builtin class-name">echo</span> oh noes, deleted my branch<span class="token operator">!</span>
oh noes, deleted my branch<span class="token operator">!</span>
</code></pre></div><p>在这时候你应该想起了 <code>reflog</code>, 一个升级版的日志，它存储了仓库(repo)里面所有动作的历史。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reflog
69204cd HEAD@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>: checkout: moving from my-branch to main
4e3cd85 HEAD@<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>: commit: foo.txt added
69204cd HEAD@<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>: checkout: moving from main to my-branch
</code></pre></div><p>正如你所见，我们有一个来自删除分支的提交 hash(commit hash)，接下来看看是否能恢复删除了的分支。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout -b my-branch-help
Switched to a new branch <span class="token string">'my-branch-help'</span>
<span class="token punctuation">(</span>my-branch-help<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard 4e3cd85
HEAD is now at 4e3cd85 foo.txt added
<span class="token punctuation">(</span>my-branch-help<span class="token punctuation">)</span>$ <span class="token function">ls</span>
README.md foo.txt
</code></pre></div><p>看! 我们把删除的文件找回来了。Git 的 <code>reflog</code> 在 rebasing 出错的时候也是同样有用的。</p> <h3 id="我想删除一个分支"><a href="#我想删除一个分支" class="header-anchor">#</a> 我想删除一个分支</h3> <p>删除一个远程分支:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> push origin --delete my-branch
</code></pre></div><p>你也可以:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> push origin :my-branch
</code></pre></div><p>删除一个本地分支:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> branch -D my-branch
</code></pre></div><h3 id="我想从别人正在工作的远程分支签出-checkout-一个分支"><a href="#我想从别人正在工作的远程分支签出-checkout-一个分支" class="header-anchor">#</a> 我想从别人正在工作的远程分支签出(checkout)一个分支</h3> <p>首先, 从远程拉取(fetch) 所有分支:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> fetch --all
</code></pre></div><p>假设你想要从远程的 <code>daves</code> 分支签出到本地的 <code>daves</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout --track origin/daves
Branch daves <span class="token builtin class-name">set</span> up to track remote branch daves from origin.
Switched to a new branch <span class="token string">'daves'</span>
</code></pre></div><p>(<code>--track</code> 是<code>git checkout -b [branch][remotename]/[branch]</code> 的简写)</p> <p>这样就得到了一个 <code>daves</code> 分支的本地拷贝, 任何推过(pushed)的更新，远程都能看到.</p> <h2 id="rebasing-和合并-merging"><a href="#rebasing-和合并-merging" class="header-anchor">#</a> Rebasing 和合并(Merging)</h2> <h3 id="我想撤销-rebase-merge"><a href="#我想撤销-rebase-merge" class="header-anchor">#</a> 我想撤销 rebase/merge</h3> <p>你可以合并(merge)或 rebase 了一个错误的分支, 或者完成不了一个进行中的 rebase/merge。Git 在进行危险操作的时候会把原始的 HEAD 保存在一个叫 ORIG_HEAD 的变量里, 所以要把分支恢复到 rebase/merge 前的状态是很容易的。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> reset --hard ORIG_HEAD
</code></pre></div><h3 id="我已经-rebase-过-但是我不想强推-force-push"><a href="#我已经-rebase-过-但是我不想强推-force-push" class="header-anchor">#</a> 我已经 rebase 过, 但是我不想强推(force push)</h3> <p>不幸的是，如果你想把这些变化(changes)反应到远程分支上，你就必须得强推(force push)。是因你快进(Fast forward)了提交，改变了 Git 历史, 远程分支不会接受变化(changes)，除非强推(force push)。这就是许多人使用 merge 工作流, 而不是 rebasing 工作流的主要原因之一， 开发者的强推(force push)会使大的团队陷入麻烦。使用时需要注意，一种安全使用 rebase 的方法是，不要把你的变化(changes)反映到远程分支上, 而是按下面的做:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout my-branch
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> rebase -i main
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> checkout main
<span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> merge --ff-only my-branch
</code></pre></div><h3 id="我需要组合-combine-几个提交-commit"><a href="#我需要组合-combine-几个提交-commit" class="header-anchor">#</a> 我需要组合(combine)几个提交(commit)</h3> <p>假设你的工作分支将会做对于 main 的 pull-request。一般情况下你不关心提交(commit)的时间戳，只想组合 所有 提交(commit) 到一个单独的里面, 然后重置(reset)重提交(recommit)。确保主(main)分支是最新的和你的变化都已经提交了, 然后:</p> <p>(my-branch)$ git reset --soft main
(my-branch)$ git commit -am “New awesome feature”
如果你想要更多的控制, 想要保留时间戳, 你需要做交互式 rebase (interactive rebase):</p> <p>(my-branch)$ git rebase -i main
如果没有相对的其它分支， 你将不得不相对自己的 <code>HEAD</code> 进行 rebase。例如：你想组合最近的两次提交(commit), 你将相对于 <code>HEAD~2</code> 进行 rebase， 组合最近 3 次提交(commit), 相对于 <code>HEAD~3</code>, 等等。</p> <p>(main)$ git rebase -i HEAD~2
在你执行了交互式 rebase 的命令(interactive rebase command)后, 你将在你的编辑器里看到类似下面的内容:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>pick a9c8a1d Some refactoring
pick 01b2fd8 New awesome feature
pick b729ad5 fixup
pick e3851e8 another fix
<span class="token comment"># Rebase 8074d12..b729ad5 onto 8074d12</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment">#  p, pick = use commit</span>
<span class="token comment">#  r, reword = use commit, but edit the commit message</span>
<span class="token comment">#  e, edit = use commit, but stop for amending</span>
<span class="token comment">#  s, squash = use commit, but meld into previous commit</span>
<span class="token comment">#  f, fixup = like &quot;squash&quot;, but discard this commit's log message</span>
<span class="token comment">#  x, exec = run command (the rest of the line) using shell</span>
<span class="token comment">#</span>
<span class="token comment"># These lines can be re-ordered; they are executed from top to bottom.</span>
<span class="token comment">#</span>
<span class="token comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="token comment">#</span>
<span class="token comment"># However, if you remove everything, the rebase will be aborted.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that empty commits are commented out</span>
</code></pre></div><p>所有以 <code>#</code> 开头的行都是注释, 不会影响 rebase.</p> <p>然后，你可以用任何上面命令列表的命令替换 <code>pick</code>, 你也可以通过删除对应的行来删除一个提交(commit)。</p> <p>例如, 如果你想 单独保留最旧(first)的提交(commit),组合所有剩下的到第二个里面, 你就应该编辑第二个提交(commit)后面的每个提交(commit) 前的单词为 <code>f</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>pick a9c8a1d Some refactoring
pick 01b2fd8 New awesome feature
f b729ad5 fixup
f e3851e8 another fix
</code></pre></div><p>如果你想组合这些提交(commit) 并重命名这个提交(commit), 你应该在第二个提交(commit)旁边添加一个 <code>r</code>，或者更简单的用 s 替代 <code>f</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>pick a9c8a1d Some refactoring
pick 01b2fd8 New awesome feature
s b729ad5 fixup
s e3851e8 another fix
</code></pre></div><p>你可以在接下来弹出的文本提示框里重命名提交(commit)。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>Newer, awesomer features
<span class="token comment"># Please enter the commit message for your changes. Lines starting</span>
<span class="token comment"># with '#' will be ignored, and an empty message aborts the commit.</span>
<span class="token comment"># rebase in progress; onto 8074d12</span>
<span class="token comment"># You are currently editing a commit while rebasing branch 'main' on '8074d12'.</span>
<span class="token comment">#</span>
<span class="token comment"># Changes to be committed:</span>
<span class="token comment">#	modified:   README.md</span>
<span class="token comment">#</span>
</code></pre></div><p>如果成功了, 你应该看到类似下面的内容:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ Successfully rebased and updated refs/heads/main.
</code></pre></div><h3 id="安全合并-merging-策略"><a href="#安全合并-merging-策略" class="header-anchor">#</a> 安全合并(merging)策略</h3> <p><code>--no-commit</code> 执行合并(merge)但不自动提交, 给用户在做提交前检查和修改的机会。no-ff 会为特性分支(feature branch)的存在过留下证据, 保持项目历史一致（更多 Git 资料，参见 IDEA 中如何完成 Git 版本回退？）。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> merge --no-ff --no-commit my-branch
</code></pre></div><h3 id="我需要将一个分支合并成一个提交-commit"><a href="#我需要将一个分支合并成一个提交-commit" class="header-anchor">#</a> 我需要将一个分支合并成一个提交(commit)</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> merge --squash my-branch
</code></pre></div><h3 id="我只想组合-combine-未推的提交-unpushed-commit"><a href="#我只想组合-combine-未推的提交-unpushed-commit" class="header-anchor">#</a> 我只想组合(combine)未推的提交(unpushed commit)</h3> <p>有时候，在将数据推向上游之前，你有几个正在进行的工作提交(commit)。这时候不希望把已经推(push)过的组合进来，因为其他人可能已经有提交(commit)引用它们了。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> rebase -i @<span class="token punctuation">{</span>u<span class="token punctuation">}</span>
</code></pre></div><p>这会产生一次交互式的 rebase(interactive rebase), 只会列出没有推(push)的提交(commit)， 在这个列表时进行 reorder/fix/squash 都是安全的。</p> <h3 id="检查是否分支上的所有提交-commit-都合并-merge-过了"><a href="#检查是否分支上的所有提交-commit-都合并-merge-过了" class="header-anchor">#</a> 检查是否分支上的所有提交(commit)都合并(merge)过了</h3> <p>检查一个分支上的所有提交(commit)是否都已经合并(merge)到了其它分支, 你应该在这些分支的 head(或任何 commits)之间做一次 diff:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> log --graph --left-right --cherry-pick --oneline HEAD<span class="token punctuation">..</span>.feature/120-on-scroll
</code></pre></div><p>这会告诉你在一个分支里有而另一个分支没有的所有提交(commit), 和分支之间不共享的提交(commit)的列表。另一个做法可以是:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> log main ^feature/120-on-scroll --no-merges
</code></pre></div><h3 id="交互式-rebase-interactive-rebase-可能出现的问题"><a href="#交互式-rebase-interactive-rebase-可能出现的问题" class="header-anchor">#</a> 交互式 rebase(interactive rebase)可能出现的问题</h3> <p>这个 rebase 编辑屏幕出现’noop’
如果你看到的是这样:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>noop
</code></pre></div><p>这意味着你 rebase 的分支和当前分支在同一个提交(commit)上, 或者 领先(ahead) 当前分支。你可以尝试:</p> <ul><li>检查确保主(main)分支没有问题</li> <li>rebase <code>HEAD~2</code> 或者更早</li></ul> <h3 id="有冲突的情况"><a href="#有冲突的情况" class="header-anchor">#</a> 有冲突的情况</h3> <p>如果你不能成功的完成 rebase, 你可能必须要解决冲突。</p> <p>首先执行 <code>git status</code> 找出哪些文件有冲突:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> status
On branch my-branch
Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>
 modified:   README.md
</code></pre></div><p>在这个例子里面, <a href="http://README.md" target="_blank" rel="noopener noreferrer">README.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 有冲突。打开这个文件找到类似下面的内容:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>   <span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span> HEAD
   some code
   <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
   some code
   <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> new-commit
</code></pre></div><p>你需要解决新提交的代码(示例里, 从中间 <code>==</code> 线到 <code>new-commit</code> 的地方)与 <code>HEAD</code> 之间不一样的地方.</p> <p>有时候这些合并非常复杂，你应该使用可视化的差异编辑器(visual diff editor):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main*<span class="token punctuation">)</span>$ <span class="token function">git</span> mergetool -t opendiff
</code></pre></div><p>在你解决完所有冲突和测试过后, git add 变化了的(changed)文件, 然后用 <code>git rebase --continue</code> 继续 rebase。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> <span class="token function">add</span> README.md
<span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> rebase --continue
</code></pre></div><p>如果在解决完所有的冲突过后，得到了与提交前一样的结果, 可以执行 <code>git rebase --skip</code>。</p> <p>任何时候你想结束整个 rebase 过程，回来 rebase 前的分支状态, 你可以做:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>my-branch<span class="token punctuation">)</span>$ <span class="token function">git</span> rebase --abort
</code></pre></div><h2 id="stash"><a href="#stash" class="header-anchor">#</a> Stash</h2> <h3 id="暂存所有改动"><a href="#暂存所有改动" class="header-anchor">#</a> 暂存所有改动</h3> <p>暂存你工作目录下的所有改动</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash
</code></pre></div><p>你可以使用-u 来排除一些文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash -u
</code></pre></div><h3 id="暂存指定文件"><a href="#暂存指定文件" class="header-anchor">#</a> 暂存指定文件</h3> <p>假设你只想暂存某一个文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash push working-directory-path/filename.ext
</code></pre></div><p>假设你想暂存多个文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash push working-directory-path/filename1.ext working-directory-path/filename2.ext
</code></pre></div><h3 id="暂存时记录消息"><a href="#暂存时记录消息" class="header-anchor">#</a> 暂存时记录消息</h3> <p>这样你可以在 list 时看到它</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash save <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span>
</code></pre></div><p>或</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash push -m <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span>
</code></pre></div><h3 id="使用某个指定暂存"><a href="#使用某个指定暂存" class="header-anchor">#</a> 使用某个指定暂存</h3> <p>首先你可以查看你的 <code>stash</code> 记录</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash list
</code></pre></div><p>然后你可以 <code>apply</code> 某个 <code>stash</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash apply <span class="token string">&quot;stash@{n}&quot;</span>
</code></pre></div><p>此处， 'n’是 <code>stash</code> 在栈中的位置，最上层的 <code>stash</code> 会是 0</p> <p>除此之外，也可以使用时间标记(假如你能记得的话)。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash apply <span class="token string">&quot;stash@{2.hours.ago}&quot;</span>
</code></pre></div><h3 id="暂存时保留未暂存的内容"><a href="#暂存时保留未暂存的内容" class="header-anchor">#</a> 暂存时保留未暂存的内容</h3> <p>你需要手动 create 一个 <code>stash commit</code>， 然后使用 <code>git stash store</code>。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> stash create
$ <span class="token function">git</span> stash store -m <span class="token string">&quot;commit-message&quot;</span> CREATED_SHA1
</code></pre></div><h2 id="杂项-miscellaneous-objects"><a href="#杂项-miscellaneous-objects" class="header-anchor">#</a> 杂项(Miscellaneous Objects)</h2> <h3 id="克隆所有子模块"><a href="#克隆所有子模块" class="header-anchor">#</a> 克隆所有子模块</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> clone --recursive git://github.com/foo/bar.git
</code></pre></div><p>如果已经克隆了:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> submodule update --init --recursive
</code></pre></div><h3 id="删除标签-tag"><a href="#删除标签-tag" class="header-anchor">#</a> 删除标签(tag)</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> tag -d <span class="token operator">&lt;</span>tag_name<span class="token operator">&gt;</span>
$ <span class="token function">git</span> push <span class="token operator">&lt;</span>remote<span class="token operator">&gt;</span> :refs/tags/<span class="token operator">&lt;</span>tag_name<span class="token operator">&gt;</span>
</code></pre></div><h3 id="恢复已删除标签-tag"><a href="#恢复已删除标签-tag" class="header-anchor">#</a> 恢复已删除标签(tag)</h3> <p>如果你想恢复一个已删除标签(tag), 可以按照下面的步骤: 首先, 需要找到无法访问的标签(unreachable tag):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">fsck</span> --unreachable <span class="token operator">|</span> <span class="token function">grep</span> tag
</code></pre></div><p>记下这个标签(tag)的 hash，然后用 Git 的 update-ref</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> update-ref refs/tags/<span class="token operator">&lt;</span>tag_name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>hash<span class="token operator">&gt;</span>
</code></pre></div><p>这时你的标签(tag)应该已经恢复了。</p> <h3 id="已删除补丁-patch"><a href="#已删除补丁-patch" class="header-anchor">#</a> 已删除补丁(patch)</h3> <p>如果某人在 GitHub 上给你发了一个 pull request, 但是然后他删除了他自己的原始 fork, 你将没法克隆他们的提交(commit)或使用 <code>git am</code>。在这种情况下, 最好手动的查看他们的提交(commit)，并把它们拷贝到一个本地新分支，然后做提交。</p> <p>做完提交后, 再修改作者，参见变更作者。然后, 应用变化, 再发起一个新的 <code>pull request</code>。</p> <h2 id="跟踪文件-tracking-files"><a href="#跟踪文件-tracking-files" class="header-anchor">#</a> 跟踪文件(Tracking Files)</h2> <h3 id="我只想改变一个文件名字的大小写-而不修改内容"><a href="#我只想改变一个文件名字的大小写-而不修改内容" class="header-anchor">#</a> 我只想改变一个文件名字的大小写，而不修改内容</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> <span class="token function">mv</span> --force myfile MyFile
</code></pre></div><h3 id="我想从-git-删除一个文件-但保留该文件"><a href="#我想从-git-删除一个文件-但保留该文件" class="header-anchor">#</a> 我想从 Git 删除一个文件，但保留该文件</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> <span class="token function">rm</span> --cached log.txt
</code></pre></div><h2 id="配置-configuration"><a href="#配置-configuration" class="header-anchor">#</a> 配置(Configuration)</h2> <h3 id="我想给一些-git-命令添加别名-alias"><a href="#我想给一些-git-命令添加别名-alias" class="header-anchor">#</a> 我想给一些 Git 命令添加别名(alias)</h3> <p>在 OS X 和 Linux 下, 你的 Git 的配置文件储存在 <code>~/.gitconfig</code>。我在<code>[alias]</code> 部分添加了一些快捷别名(和一些我容易拼写错误的)，如下:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>alias<span class="token punctuation">]</span>
    a <span class="token operator">=</span> <span class="token function">add</span>
    amend <span class="token operator">=</span> commit --amend
    c <span class="token operator">=</span> commit
    ca <span class="token operator">=</span> commit --amend
    ci <span class="token operator">=</span> commit -a
    co <span class="token operator">=</span> checkout
    d <span class="token operator">=</span> <span class="token function">diff</span>
    <span class="token function">dc</span> <span class="token operator">=</span> <span class="token function">diff</span> --changed
    ds <span class="token operator">=</span> <span class="token function">diff</span> --staged
    f <span class="token operator">=</span> fetch
    loll <span class="token operator">=</span> log --graph --decorate --pretty<span class="token operator">=</span>oneline --abbrev-commit
    m <span class="token operator">=</span> merge
    one <span class="token operator">=</span> log --pretty<span class="token operator">=</span>oneline
    outstanding <span class="token operator">=</span> rebase -i @<span class="token punctuation">{</span>u<span class="token punctuation">}</span>
    s <span class="token operator">=</span> status
    unpushed <span class="token operator">=</span> log @<span class="token punctuation">{</span>u<span class="token punctuation">}</span>
    <span class="token function">wc</span> <span class="token operator">=</span> whatchanged
    wip <span class="token operator">=</span> rebase -i @<span class="token punctuation">{</span>u<span class="token punctuation">}</span>
    zap <span class="token operator">=</span> fetch -p
</code></pre></div><h3 id="我想缓存一个仓库-repository-的用户名和密码"><a href="#我想缓存一个仓库-repository-的用户名和密码" class="header-anchor">#</a> 我想缓存一个仓库(repository)的用户名和密码</h3> <p>你可能有一个仓库需要授权，这时你可以缓存用户名和密码，而不用每次推/拉(push/pull)的时候都输入，Credential helper 能帮你。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> config --global credential.helper cache
<span class="token comment"># Set git to use the credential memory cache</span>
$ <span class="token function">git</span> config --global credential.helper <span class="token string">'cache --timeout=3600'</span>
<span class="token comment"># Set the cache to timeout after 1 hour (setting is in seconds)</span>
</code></pre></div><h3 id="我不知道我做错了些什么"><a href="#我不知道我做错了些什么" class="header-anchor">#</a> 我不知道我做错了些什么</h3> <p>你把事情搞砸了：你 <code>重置(reset)</code> 了一些东西, 或者你合并了错误的分支, 亦或你强推了后找不到你自己的提交(commit)了。有些时候, 你一直都做得很好, 但你想回到以前的某个状态。</p> <p>这就是 <code>git reflog</code> 的目的， <code>reflog</code> 记录对分支顶端(the tip of a branch)的任何改变, 即使那个顶端没有被任何分支或标签引用。基本上, 每次 HEAD 的改变, 一条新的记录就会增加到 <code>reflog</code> 。遗憾的是，这只对本地分支起作用，且它只跟踪动作 (例如，不会跟踪一个没有被记录的文件的任何改变)。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">(</span>main<span class="token punctuation">)</span>$ <span class="token function">git</span> reflog
0a2e358 HEAD@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>: reset: moving to HEAD~2
0254ea7 HEAD@<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>: checkout: moving from <span class="token number">2.2</span> to main
c10f740 HEAD@<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>: checkout: moving from main to <span class="token number">2.2</span>
</code></pre></div><p>上面的 reflog 展示了从 main 分支签出(checkout)到 2.2 分支，然后再签回。那里，还有一个硬重置(hard reset)到一个较旧的提交。最新的动作出现在最上面以 <code>HEAD@{0}</code> 标识.</p> <p>如果事实证明你不小心回移(move back)了提交(commit), reflog 会包含你不小心回移前 main 上指向的提交(0254ea7)。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">git</span> reset --hard 0254ea7
</code></pre></div><p>然后使用 git reset 就可以把 main 改回到之前的 commit，这提供了一个在历史被意外更改情况下的安全网。</p> <p><a href="https://mp.weixin.qq.com/s/BzdgZXyM1UaNCUCXySL9Rw" target="_blank" rel="noopener noreferrer">45 个 Git 经典操作场景<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div></div> <div id="shangfang" class="column no-pad-r sm-25 xl-33 xsNone smNone post-sidebar"><div class="ads-container"><!----></div> <!----> <div id="zhongjian"><div class="table-contents-fixed"><h3 id="table-of-content" class="table-contents__title">浮动目录</h3> <nav><ol class="table-contents__list"></ol></nav></div></div></div> <aside id="dibujuli" class="column xs-100"><hr class="divider"> <div><div class="observer" data-v-541be3fd><!----> <!----> <!----></div></div> <hr class="divider"> <section class="post-content__disqus"><Vssue name="45 个 Git 经典操作场景"></Vssue></section></aside></div></section></article></div> <section class="row section-newsletter justify-center newsletter-post-wrap"><div class="column sm-100 md-67 xl-50"><div class="newsletter not-black"><span class="meta-text meta-text--primary not-black">关注我们</span> <h2 class="newsletter__title not-black">在收件箱接收新的内容推送</h2> <form method="post" action="https://luzhaoyang.us4.list-manage.com/subscribe/post?u=1de83ba90307cf0e38650d622&amp;amp;id=04aeba270a" class="newsletter__form not-black"><label for="email_news-1660812768619" class="newsletter__label not-black"><input type="email" name="EMAIL" id="email_news-1660812768619" required="required" placeholder="在这里输入您的电子邮件" autocomplete="off" aria-label="在这里输入您的电子邮件" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
        订阅
      </button></form></div></div></section> <aside class="container main"></aside></div> <!----> <div><div class="elevator"><a class="elevator__link"><span class="icon elevator__icon icon-greaterthan"></span> <!----></a> <!----></div> <div class="mask-container"><div class="mask-wrap"><div class="circle-wrapper"><svg xmlns="http://www.w3.org/200/svg" height="100%" width="100%"><circle cx="66" cy="66" r="55" fill="none" stroke="#FF4437" stroke-width="5" stroke-linecap="round" class="circle-full"></circle> <circle cx="66" cy="66" r="55" fill="none" stroke-width="5" stroke-linecap="round" stroke="#FF4437" stroke-dasharray="0,10000" class="circle-detail"></circle></svg> <img class="mobile-bgm-img coupon-num had-percent"></div> <div></div> <div></div> <div class="mobile-bgm-list"><i class="reco-bgm reco-bgm-last last mobile-bgm-btn"></i> <i class="reco-bgm reco-bgm-pause pause mobile-bgm-btn" style="display:none;"></i> <i class="reco-bgm reco-bgm-play play mobile-bgm-btn" style="display:;"></i> <i class="reco-bgm reco-bgm-next next mobile-bgm-btn"></i></div> <div class="mobile-bgm-close"><i class="iconfont iconLogonClosed mobile-bgm-btn"></i></div></div></div></div> <!----></div></main></div> <footer id="footer" class="footer "><div class="footer-box1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 161" class="footer-box__shape"><path d="M-11.925-4809v-154.746c40.454,19.75,273.683,130.936,420.544,142.612,161.25,12.821,339.978-42.709,521.543-86.3,169.82-40.769,395.43,29.2,423.912,38.429v60Z" transform="translate(11.926 4970)"></path></svg></div> <div class="footer-box2"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 246" class="footer-box__shape"><path d="M-1505.5-4725.5v-238.1c8.149-3.133,18.138-5.059,29.672-5.9h30.954c201.21,11.667,696.6,224.535,855.572,236.458,205.129,15.385,287.179-164.1,432.047-175.625a42.381,42.381,0,0,1,16.756,1.857V-4725.5Z" transform="translate(1506 4971)"></path></svg> <ul class="footer-social__list"></ul> <div class="footer-newsletter not-black"><div class="newsletter not-black"><span class="meta-text meta-text--primary not-black">关注我们</span> <h2 class="newsletter__title not-black">在收件箱接收新的内容推送</h2> <form method="post" action="https://luzhaoyang.us4.list-manage.com/subscribe/post?u=1de83ba90307cf0e38650d622&amp;amp;id=04aeba270a" class="newsletter__form not-black"><label for="email_news-1660812768621" class="newsletter__label not-black"><input type="email" name="EMAIL" id="email_news-1660812768621" required="required" placeholder="在这里输入您的电子邮件" autocomplete="off" aria-label="在这里输入您的电子邮件" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
        订阅
      </button></form></div></div></div> <section class="footer-box3"><div class="row"><div class="column sm-50 footer-card"><div class="observer" data-v-541be3fd><div class="spinner observer__spinner" data-v-541be3fd><div class="double-bounce1"></div> <div class="double-bounce2"></div></div> <!----> <!----></div></div> <div class="column sm-50 footer-nav"><div class="row justify-right"><div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--1 not-black"><h2 class="meta-text title not-black">我的小窝</h2> <nav class="footer-nav1"><ul><li class="footer-nav1__item"><a href="javascript:;" class="not-black">文章分类</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">摄影相册</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">乐谱空间</a> <!----></li><!----><li class="footer-nav1__item"><a href="javascript:;" class="not-black">旅行简记</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">关于我们</a> <!----></li><li class="footer-nav1__item"><a href="javascript:;" class="not-black">联系我们</a> <!----></li></ul></nav></div> <div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--2"><h2 class="meta-text title not-black">社区</h2> <nav class="footer-nav2"><ul><li class="footer-nav2__item"><!----> <a href="https://jq.qq.com/?_wv=1027&amp;k=5sOoWzp" rel="noopener nofollow" target="_blank" class="not-black">Q群 931024509</a></li><li class="footer-nav2__item"><!----> <a href="https://nativescript-vue-examples.luzhaoyang.com/" rel="noopener nofollow" target="_blank" class="not-black">NSVue 示例</a></li><li class="footer-nav2__item"><!----> <a href="https://marketplace.visualstudio.com/items?itemName=nuochong.nativescript-vue-extend" rel="noopener nofollow" target="_blank" class="not-black">NSVue 扩展</a></li><li class="footer-nav2__item"><!----> <a href="https://vue-auto-complete.luzhaoyang.com/" rel="noopener nofollow" target="_blank" class="not-black">Vue Auto Complete</a></li></ul></nav></div></div></div> <div class="cpolumn sm-100 footer-copy"><p class="visitors-total" data-v-504ab208><span data-v-504ab208>累计访问</span> <span data-v-504ab208></span> <span data-v-504ab208>次</span></p> <p class="footer-copy-last">2018 - 2022 © NUOCHONG - 源于 
  <a href="https://github.com/" rel="noopener" target="_blank">
    GITHUB
  </a></p></div></div> <span class="shapes shapes--circle" style="left: 3%; top: -20%"></span> <span class="shapes shapes--primary shapes--color3" style="left: 30%; top: -15%"></span> <span class="shapes shapes--primary" style="left: 13%; top: -80%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle shapes--color4" style="left: 40%; top: 200px"></span> <span class="shapes shapes--primary" style="left: 15%; bottom: 10%; transform: rotate(75deg)"></span> <span class="shapes shapes--circle shapes--color3" style="right: 50%; top: 30%"></span> <span class="shapes shapes--primary" style="right: 20%; top: -100%"></span> <span class="shapes shapes--circle" style="right: 10%; top: -20%"></span> <span class="shapes shapes--color4" style="right: 35%; top: -20%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle" style="left: 40%; top: -50%"></span> <span class="shapes shapes--color3" style="right: 30%; top: 20%"></span> <span class="shapes shapes--circle shapes--primary" style="right: 30%; bottom: 20%"></span></section> <div class="watermark-logo"></div> <canvas width="auto" height="auto" style="position: absolute; left: 0px; bottom: 0px;"></canvas></footer></div> <!----> <!----></div><div class="global-ui"><div><!----> <!----></div><!----></div></div>
    <script src="/assets/js/app.f8899194.js" defer></script><script src="/assets/js/33.b4e8db64.js" defer></script><script src="/assets/js/4.b393ba72.js" defer></script><script src="/assets/js/32.0b0e8ea2.js" defer></script><script src="/assets/js/30.e4499e91.js" defer></script><script src="/assets/js/35.c604304c.js" defer></script><script src="/assets/js/0.f10aff81.js" defer></script><script src="/assets/js/3.7bd33329.js" defer></script><script src="/assets/js/20.a062c0db.js" defer></script><script src="/assets/js/2.56369e87.js" defer></script><script src="/assets/js/8.d46bb1cd.js" defer></script><script src="/assets/js/111.8ff1d6a9.js" defer></script><script src="/assets/js/5.3a69964e.js" defer></script><script src="/assets/js/6.c512a2b7.js" defer></script><script src="/assets/js/1.32a72fa6.js" defer></script><script src="/assets/js/14.d1711691.js" defer></script><script src="/assets/js/34.6a64adb2.js" defer></script><script src="/assets/js/31.5cceee28.js" defer></script><script src="/assets/js/37.e65227f9.js" defer></script>
  </body>
</html>
