(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{2304:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("日常开发网页经常会使用一些特殊字体，比如思源黑体、苹方字体等，因为这些字体在一般的宿主环境中是不存在的，需要通过 css 的 "),n("code",[t._v("@font-face")]),t._v(" 定义，并从服务器中加载对应的字体文件，而字体文件一般都是比较大的，甚至有时候一个字体比其他所有的资源（js、css、图片）加起来还要大，对网页的加载性能起到非常关键的影响，因此有必要对字体进行一些优化。本文主要从字体格式、按需提取、统一渲染三个方面来谈谈优化字体的常用技巧。")]),t._v(" "),n("h2",{attrs:{id:"转换字体格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#转换字体格式"}},[t._v("#")]),t._v(" 转换字体格式")]),t._v(" "),n("p",[t._v("现在是 1202 年了，各主流设备基本都支持 woff2 字体格式，因此网站中没有必要再引入多种不同格式的字体了。一般地，建议只引入 woff2 就好了，既可以保持代码的简洁性，又可以减少上传到你服务器的文件，何乐而不为？")]),t._v(" "),n("p",[t._v("可是很多时候美术同学只提供其他格式的字体文件给我们，比如 TTF 或 OTF，那如何将其转换成 woff2 呢？")]),t._v(" "),n("h2",{attrs:{id:"ttf-字体转-woff2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ttf-字体转-woff2"}},[t._v("#")]),t._v(" TTF 字体转 WOFF2")]),t._v(" "),n("p",[t._v("TTF 字体，是苹果和 windows 都支持的一种字体，因此是美术同学最喜欢用的。TTF 转换 WOFF2 是比较简单的，可以选择线上转换，推荐的网站有以下两个")]),t._v(" "),n("ul",[n("li",[t._v("ttf-to-woff2"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn1",id:"fnref1"}},[t._v("[1]")])])]),t._v(" "),n("li",[t._v("webfont-generator"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn2",id:"fnref2"}},[t._v("[2]")])])])]),t._v(" "),n("p",[t._v("但是个人觉得线上转换等待上传的时间比较久，而且有时候生成的文件是空白的，因此更加倾向于使用 node 库 ttf2woff2"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn3",id:"fnref3"}},[t._v("[3]")])]),t._v(" 转换。该库的周下载量达到 10w+ 的，可见好多人都会有将 tff 转换成 woff2 的需求。使用方法也很简单：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("cat font.ttf | ttf2woff2 > font.woff2\n")])])]),n("p",[t._v("因为使用 了 cat 命令来提取 ttf 的内容，如果你使用的是 windows ，需要使用 git bash 或 wsl 来运行。")]),t._v(" "),n("h2",{attrs:{id:"otf-转-woff2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#otf-转-woff2"}},[t._v("#")]),t._v(" OTF 转 WOFF2")]),t._v(" "),n("p",[t._v("除了 TTF ，美术同学还经常提供 OTF 给我们，这是微软和 Adobe 共同研发的字体，因此在 windows 平台还是比较流行的。那如何将其转换成 WOFF2 呢？目前我还没有发现哪个线上网站或 node 库能一步到位转换的，在 google 上搜索好几个线上转换的网站，要么转换完成后无法下载 ，要么转换下载后是个空文件，反正就是不靠谱的东西。")]),t._v(" "),n("p",[t._v("经过一番折腾后，找到了一个不错的 python 库 otf2ttf"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn4",id:"fnref4"}},[t._v("[4]")])]),t._v("，能够稳定的将 otf 转 ttf。使用方法也比较简单，首先安装 python，然后通过 pip 安装 otf2ttf 就可以使用了（pip 类似于 npm，是 python 的包管理器），不过官方的文档中示例代码应该是有一点小笔误：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("otf2ttf MyFont.ttf\n")])])]),n("p",[t._v("里面的 MyFont.ttf 应该是 MyFont.otf 才对，因为这个 input 应该是 OTF 类型而不是 TTF 。")]),t._v(" "),n("p",[t._v("使用 python otf2ttf 生成 ttf 文件 后，就可以使用上面提到的将 ttf 转换成 woff2 的方法获取到 woff2 了。")]),t._v(" "),n("blockquote",[n("p",[t._v("关于字体转换的这里再啰嗦一下：有时候美术同学还会提供 ttc 文件给我们，这不是单个字体，而是将多种字体打包在一起了，需要从中提取出 ttf 后才能使用，可以尝试使用 TTC2TTF"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn5",id:"fnref5"}},[t._v("[5]")])]),t._v("。")])]),t._v(" "),n("h2",{attrs:{id:"按需压缩字体"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#按需压缩字体"}},[t._v("#")]),t._v(" 按需压缩字体")]),t._v(" "),n("p",[t._v("一般的，尽管将字体转换成 woff2 格式，最小依然也有好几百 K ，而更多情况下会有 1-4M 左右。有时候，我们只有少数的文字需要用到特殊字体，比如说只有 "),n("code",[t._v("0-9")]),t._v(" 这 10 个数字用到某种特殊字体，如果把整个字体文件引入就没有必要了，比切 10 个图片还要大。好在有一些技术能够将 "),n("code",[t._v("0-9")]),t._v(" 这 10 个数字对应的字体子集提取出来。我平时会使用 font-spider 字蜘"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn6",id:"fnref6"}},[t._v("[6]")])]),t._v(" 来提取。")]),t._v(" "),n("p",[t._v("首先，全局安装 font-spider:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm install font-spider -g\n")])])]),n("p",[t._v("然后，新建一个 html 文件，比如文件名为 "),n("code",[t._v("index.html")]),t._v(" ，里面用一个元素包含所有的你想要提取的文字，比如 "),n("code",[t._v("0-9")]),t._v("，并为这个元素定义上你想要的特殊字体：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("0123456789"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token style"}},[n("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),n("span",{pre:!0,attrs:{class:"token atrule"}},[n("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sourceHan'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token url"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'./SourceHanSansCN-Regular.ttf'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("h1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sourceHan'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("最后，在这个 html 文件所在的目录执行以下命令：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("font-spider index.html\n")])])]),n("p",[t._v("这时候，原来的 "),n("code",[t._v("SourceHanSansCN-Regular.ttf")]),t._v(" 就会被移动到 "),n("code",[t._v(".font-spider/")]),t._v(" 目录下，而原来位置的字体会被替换成只提取了 "),n("code",[t._v("0-9")]),t._v(" 的字体文件。这个体积相差了好几个数量级的：")]),t._v(" "),n("p",[t._v("完整的字体文件大小是 10M ：")]),t._v(" "),n("figure",[n("img",{attrs:{src:a(730),alt:""}}),n("figcaption",[t._v("章节配图")])]),t._v(" "),n("p",[t._v("只提取 "),n("code",[t._v("0-9")]),t._v(" 10 个数字的字体文件只有 7K：")]),t._v(" "),n("figure",[n("img",{attrs:{src:a(731),alt:""}}),n("figcaption",[t._v("章节配图")])]),t._v(" "),n("p",[t._v("所以，如果你的网站内容是静态不变的，则建议使用 font-spider 将你所要用到的文字提取出来，这将会大大的减少字体文件的体积。")]),t._v(" "),n("h2",{attrs:{id:"统一渲染时机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#统一渲染时机"}},[t._v("#")]),t._v(" 统一渲染时机")]),t._v(" "),n("p",[t._v("将字体转换成 WOFF2 及静态内容网站使用 font-spider 进行按需压缩，可以很好的控制字体的大小。（PS：WOFF2 字体没有必要再开启 GZIP，因为这个字体文本本身就是压缩过的）。")]),t._v(" "),n("p",[t._v("最后，我们再来看看网络速度对字体内容的影响，假如你的网页全部内容都使用某种字体，CSS 定义如下：")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token atrule"}},[n("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" myfont"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token url"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'./myfont.woff2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woff2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" myfont"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("假如这个 myfont.woff2 文件大小为 4M，而网络下载速度只有 1M/s ，则加载这个字体需要 4 秒钟。这 4 秒期间由于还没有加载完成远程字体，浏览器会使用什么字体渲染呢？事实上，不同的浏览器表现会不一样的，以下是一些常见的桌面浏览器的表现：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("IE：它会直接使用备用字体渲染，最后等 webfont 字体加载完毕后重新渲染。")])]),t._v(" "),n("li",[n("p",[t._v("Safari：它会一直等待 webfont 字体加载完毕，并且期间不会渲染字体。")])]),t._v(" "),n("li",[n("p",[t._v("Chrome / Firefox：它们会等待 webfont 字体加载，如果在 3 秒之内没有加载完毕，则使用备用字体渲染。最后 webfont 加载完毕，使用并重新渲染。")])])]),t._v(" "),n("p",[t._v("我们需要想办法统一这些行为，比较理想的行为是：先使用系统默认字体，等到远程字体加载完成了再替换成特殊字体。借助于 WebFontLoader"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn7",id:"fnref7"}},[t._v("[7]")])]),t._v(" 可以很容易的实现这一效果。下面来看一下如何使用:")]),t._v(" "),n("p",[t._v("在 css 中通过 @font-face 定义一个字体：")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token atrule"}},[n("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myfont'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token url"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'./myfont.woff2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woff2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("注意，CSS 中只需要定义字体就行，而不要使用使用这个字休。")])]),t._v(" "),n("p",[t._v("然后 引入 webfontloader (也可以通过 npm 安装)，将你在 css 中定义的字体名称添加到 "),n("code",[t._v("custom.families")]),t._v(" 列表中，并在 active 回调中将该字体添加到对应的元素上，代码如下：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  WebFont"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    custom"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      families"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myfont'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    classes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("active")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontFamily "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myfont'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("这样浏览器一开始就会使用默认字体渲染内容，等字体加载完成后再使用特殊字体重新渲染。")]),t._v(" "),n("h2",{attrs:{id:"小结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),n("p",[t._v("关于字体优化技巧就先写到这里啦，有问题的欢迎留言交流哈。")]),t._v(" "),n("h2",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://mp.weixin.qq.com/s/a2fFMb-XWzY7ThvGvD5gow",target:"_blank",rel:"noopener noreferrer"}},[t._v("让网页字体文件大瘦身"),n("OutboundLink")],1)]),t._v(" "),n("hr",{staticClass:"footnotes-sep"}),t._v(" "),n("section",{staticClass:"footnotes"},[n("ol",{staticClass:"footnotes-list"},[n("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Feverythingfonts.com%2Fttf-to-woff2",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://everythingfonts.com/ttf-to-woff2"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[n("i",{staticClass:"iconfont iconback7"})])])]),t._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn2"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.fontsquirrel.com%2Ftools%2Fwebfont-generator",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.fontsquirrel.com/tools/webfont-generator"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref2"}},[n("i",{staticClass:"iconfont iconback7"})])])]),t._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn3"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fttf2woff2",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.npmjs.com/package/ttf2woff2"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref3"}},[n("i",{staticClass:"iconfont iconback7"})])])]),t._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn4"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fawesometoolbox%2Fotf2ttf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/awesometoolbox/otf2ttf"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref4"}},[n("i",{staticClass:"iconfont iconback7"})])])]),t._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn5"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fttc2ttf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.npmjs.com/package/ttc2ttf"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref5"}},[n("i",{staticClass:"iconfont iconback7"})])])]),t._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn6"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Faui%2Ffont-spider",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/aui/font-spider"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref6"}},[n("i",{staticClass:"iconfont iconback7"})])])]),t._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn7"}},[n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftypekit%2Fwebfontloader",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/typekit/webfontloader"),n("OutboundLink")],1),t._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref7"}},[n("i",{staticClass:"iconfont iconback7"})])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);