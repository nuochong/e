(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{255:function(e,t,s){"use strict";t.a={props:{includeLevel:{type:Array,required:!1,default:()=>[2,3]}},data:()=>({newTreeArray:[]}),watch:{$lang(){console.log("table改变",this),this.newTreeArray=this.getHeaders()}},mounted(){this.newTreeArray=this.getHeaders()},methods:{getHeaders(){if(this.$page&&this.$page.headers){const e=this.includeLevel[0],t=this.includeLevel[1],s=(l,o=e)=>{const n=[];for(let e=0;e!==l.length;){const i=l.slice(e+1).findIndex(e=>e.level===o),r=-1===i?l.length:i+e+1,a=l[e];if(a.level>=o&&a.level<=t){const i=l.slice(e+1,r),c=o<t&&i.length>0?s(i,o+1):null;n.push({...a,children:c})}e=r}return n};return s(this.$page.headers)}return null}}}},266:function(e,t,s){},299:function(e,t,s){"use strict";var l=s(266);s.n(l).a},338:function(e,t,s){"use strict";s.r(t);var l=s(255),o={name:"TableContentsFixed",props:{headers:{type:Array,required:!0}},mixins:[l.a],data:()=>({juli:0,bottomjuli:0,gaodu:0}),watch:{$route(){console.log("router改变",this.$route);let e=document.querySelector(".table-contents-fixed .active");if(console.log("delNode",e),null!=e&&e.classList.remove("active"),console.log("this.$route.hash",this.newTreeArray),""!=this.$route.hash){let e=document.querySelector(`.table-contents-fixed a[href='${this.$route.hash}']`);console.log("activeNode",e),e.classList.add("active")}}},created(){console.log("fixed",this),"undefined"!=typeof document&&this.listenerFunction()},mounted(){console.log("headers",this),console.log("mounted",this.headers)},beforeDestroy(){console.log("销毁"),document.removeEventListener("scroll",this.handleScroll)},methods:{getNum(){this.juli=document.querySelector("#shangfang").offsetTop,this.bottomjuli=document.querySelector("#dibujuli").offsetTop,this.gaodu=document.querySelector(".table-contents-fixed").clientHeight},listenerFunction(e){document.addEventListener("scroll",this.handleScroll)},handleScroll(){let e=window.pageYOffset;this.getNum();let t=document.querySelector(".table-contents-fixed"),s=this.bottomjuli-this.gaodu;e<this.juli?t.setAttribute("style",""):e<s?t.setAttribute("style","position: fixed;top: 50px;"):e>=s&&t.setAttribute("style","position: absolute;bottom: 0;")},scrollToHeader(e){console.log("selector",e);const t=document.getElementById(e);let s=window.scrollY;console.log("scroll",s);let l=setInterval(()=>{window.requestAnimationFrame(()=>{window.scrollTo({top:s})}),s+=50,s>=t.offsetTop-40&&clearInterval(l)},1)}}},n=(s(299),s(0)),i=Object(n.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table-contents-fixed"},[s("h3",{staticClass:"table-contents__title",attrs:{id:"table-of-content"}},[e._v(e._s(e.$tn("table_content_fixed")))]),e._v(" "),s("nav",[s("ol",{staticClass:"table-contents__list"},e._l(e.newTreeArray,(function(t){return s("li",{key:t.slug,staticClass:"table-contents__item"},[s("a",{staticClass:"table-contents__link",attrs:{href:"#"+t.slug,title:t.title}},[s("span",[e._v(e._s(t.title))])]),e._v(" "),t.children?s("ol",{staticClass:"table-contents__list"},e._l(t.children,(function(t,l){return s("li",{key:l,staticClass:"table-contents__item"},[s("a",{staticClass:"table-contents__link",attrs:{href:"#"+t.slug,title:t.slug}},[s("span",[e._v(e._s(t.slug))])])])})),0):e._e()])})),0)])])}),[],!1,null,null,null);t.default=i.exports}}]);